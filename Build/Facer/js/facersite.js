// bl.js
(function(){
Type.registerNamespace('BL');BL.IAppObjectProvider=function(){};BL.IAppObjectProvider.registerInterface('BL.IAppObjectProvider');BL.INotifyCollectionAndStateChanged=function(){};BL.INotifyCollectionAndStateChanged.registerInterface('BL.INotifyCollectionAndStateChanged');BL.Base$0=function(){};BL.Base$0.registerInterface('BL.Base$0');BL.INotifyCollectionChanged=function(){};BL.INotifyCollectionChanged.registerInterface('BL.INotifyCollectionChanged');BL.ISerializableCollection=function(){};BL.ISerializableCollection.registerInterface('BL.ISerializableCollection');BL.NotifyCollectionChangedAction=function(){};BL.NotifyCollectionChangedAction.prototype = {add:1,move:2,remove:3,replace:4,reset:5,itemStateChanged:6}
BL.NotifyCollectionChangedAction.registerEnum('BL.NotifyCollectionChangedAction',false);BL.SerializablePropertyType=function(){};BL.SerializablePropertyType.prototype = {string:0,integer:1,choice:2,bool:3,number:4,object:5,scalarCollection:6,date:7,smallInteger:8,urlString:9,objectCollection:10}
BL.SerializablePropertyType.registerEnum('BL.SerializablePropertyType',false);BL.IAsyncResult=function(){};BL.IAsyncResult.registerInterface('BL.IAsyncResult');BL.LogStatus=function(){};BL.LogStatus.prototype = {critical:1,normal:2,verbose:4,unexpectedError:8,scopeStart:16,scopeEnd:32}
BL.LogStatus.registerEnum('BL.LogStatus',false);BL.ObjectEventArgs=function(objectValue){BL.ObjectEventArgs.initializeBase(this);this.$1_0=objectValue;}
BL.ObjectEventArgs.prototype={$1_0:null,get_value:function(){return this.$1_0;},set_value:function(value){this.$1_0=value;return value;}}
BL.UserManager=function(){this.$1={};}
BL.UserManager.get_current=function(){if(BL.UserManager.$0==null){BL.UserManager.$0=new BL.UserManager();}return BL.UserManager.$0;}
BL.UserManager.prototype={$1:null,addUser:function(user){this.$1[user.get_s_id()]=user;},ensureUser:function(id){if(Object.keyExists(this.$1,id)){return this.$1[id];}var $0=new BL.User();$0.set_s_id(id);this.addUser($0);return $0;}}
BL.UserReference=function(){BL.UserReference.initializeBase(this);}
BL.UserReference.prototype={id:null,$3:null,get_s_id:function(){return this.id;},set_s_id:function(value){if(this.id===value){return;}this.id=value;this.notifyPropertyChanged('Id');return value;},get_s_nickName:function(){return this.$3;},set_s_nickName:function(value){if(this.$3===value){return;}this.$3=value;this.notifyPropertyChanged('NickName');return value;}}
BL.User=function(){BL.User.initializeBase(this);}
BL.User.prototype={$4:null,$5:null,$6:null,$7:null,$8:null,$9:false,get_isLoaded:function(){return this.$9;},set_isLoaded:function(value){this.$9=value;return value;},get_s_firstName:function(){return this.$4;},set_s_firstName:function(value){this.$4=value;return value;},get_s_lastName:function(){return this.$5;},set_s_lastName:function(value){this.$5=value;return value;},get_s_contentContainer:function(){return this.$6;},set_s_contentContainer:function(value){this.$6=value;return value;},get_s_thumbnailImage:function(){return this.$7;},set_s_thumbnailImage:function(value){this.$7=value;return value;},get_thumbnailImageUrl:function(){if(this.get_s_thumbnailImage()==null){return null;}return BL.Context.get_current().get_userContentBasePath()+this.get_s_contentContainer()+'/'+this.get_s_thumbnailImage();},get_summary:function(){if(this.get_s_nickName()!=null){return this.get_s_nickName();}if((this.get_s_firstName()!=null&this.get_s_lastName()!=null)===1){return this.get_s_firstName()+' '+this.get_s_lastName();}if(this.get_s_firstName()!=null){return this.get_s_firstName();}if(this.get_s_lastName()!=null){return this.get_s_lastName();}return this.get_s_id();},loadUser:function(callback,state){if(this.get_s_id()==null){throw new Error('ID is not set.');}var $0=false;if(this.$9){if(callback!=null){var $1=new BL.CallbackResult();$1.set_data(this);$1.set_isCompleted(true);$1.set_asyncState(state);callback($1);}return;}if(this.$8==null){this.$8=new BL.Operation();$0=true;}this.$8.get_callbackStates().add(BL.CallbackState.wrap(callback,state));if($0){var $2=new XMLHttpRequest();this.$8.set_tag($2);var $3=Bendyline.Base.UrlUtilities.ensurePathEndsWithSlash(BL.Context.get_current().get_webServiceBasePath())+'api/user/'+this.get_s_id();$2.open('GET',$3);$2.setRequestHeader('Accept','application/json');$2.setRequestHeader('Content-Type','application/json');$2.send('');$2.onreadystatechange=ss.Delegate.create(this,this.$A);}},$A:function(){var $0=this.$8.get_tag();if($0!=null&&$0.readyState===4){var $1=JSON.parse($0.responseText);this.applyObject($1);this.$9=true;this.$8.completeAsAsyncDone(this);}}}
BL.Context=function(){var $0=window.navigator.userAgent.toLowerCase();if(this.$F==null){this.$F=window.location.hash.substring(1,window.location.hash.length).toLowerCase();}this.$11=ss.Delegate.create(this,this.$12);if($0.indexOf('mobi')>=0){if($0.indexOf('ipad')>=0||$0.indexOf('tablet')>=0){this.$9=true;}else{this.$6=true;}this.$8=true;}else if(($0.indexOf('android')>=0||$0.indexOf('silk')>=0)&&$0.indexOf('mobi')<0){this.$9=true;this.$8=true;}}
BL.Context.get_current=function(){return BL.Context.$0;}
BL.Context.setSite=function(resourceBasePath,webServiceBasePath,userContentBasePath,versionHash,feedbackUrl){var $0=BL.Context.get_current();$0.set_resourceBasePath(resourceBasePath);$0.set_webServiceBasePath(webServiceBasePath);$0.set_userContentBasePath(userContentBasePath);$0.set_versionToken(versionHash);$0.set_feedbackUrl(feedbackUrl);}
BL.Context.setSession=function(tokenId,expId,userName){var $0=BL.Context.get_current();$0.set_expId(expId);$0.set_tokenid(tokenId);$0.set_userName(userName);}
BL.Context.prototype={$1:null,$2:null,$3:null,$4:0,$5:0,$6:false,$7:false,$8:false,$9:false,$A:null,$B:null,$C:null,$D:null,$E:null,$F:null,add_userChanged:function(value){this.$10=ss.Delegate.combine(this.$10,value);},remove_userChanged:function(value){this.$10=ss.Delegate.remove(this.$10,value);},$10:null,$11:null,get_objectProvider:function(){return this.$E;},set_objectProvider:function(value){this.$E=value;return value;},get_user:function(){return this.$D;},set_user:function(value){if(this.$D===value){return;}if(this.$D!=null){this.$D.remove_propertyChanged(this.$11);}this.$D=value;if(this.$D!=null&&!String.isNullOrEmpty(this.$D.get_s_nickName())){this.$D.set_isLoaded(true);}BL.UserManager.get_current().addUser(this.$D);this.get_user().add_propertyChanged(this.$11);if(this.$10!=null){this.$10(this,BL.PropertyChangedEventArgs.get_all());}return value;},get_isTablet:function(){return this.$9;},get_isTouchOnly:function(){return this.$8;},get_isHostedInApp:function(){return this.$7;},get_isPortrait:function(){return (window.innerHeight>window.innerWidth);},get_isSmallFormFactor:function(){return this.$6;},get_resourceBasePath:function(){if(this.$A==null){this.$A='';}return this.$A;},set_resourceBasePath:function(value){this.$A=value;return value;},get_versionToken:function(){if(this.$1==null){this.$1='';}return this.$1;},set_versionToken:function(value){this.$1=value;return value;},get_feedbackUrl:function(){if(this.$3==null){this.$3='';}return this.$3;},set_feedbackUrl:function(value){this.$3=value;return value;},get_webServiceBasePath:function(){if(this.$B==null){this.$B='';}return this.$B;},set_webServiceBasePath:function(value){this.$B=value;return value;},get_userContentBasePath:function(){if(this.$C==null){this.$C='';}return this.$C;},set_userContentBasePath:function(value){this.$C=value;return value;},get_tokenid:function(){return this.$5;},set_tokenid:function(value){this.$5=value;return value;},get_expId:function(){return this.$4;},set_expId:function(value){this.$4=value;return value;},get_userName:function(){return this.$2;},set_userName:function(value){this.$2=value;return value;},isHomeNavigation:function(){var $0=window.location.hash;if($0!=null){$0=$0.substring(1,$0.length).toLowerCase();}if(String.isNullOrEmpty($0)||$0===this.$F.toLowerCase()){return true;}return false;},navigateInternal:function(internalDestination){var $0=internalDestination;if(this.$F.toLowerCase()===$0.toLowerCase()){$0+='.1';}window.location.hash=$0;},getInternalDestination:function(){var $0=window.location.hash.toLowerCase();$0=$0.substring(1,$0.length);var $1=$0.lastIndexOf('.');if($1>0){$0=$0.substring(0,$1);}return $0;},$12:function($p0,$p1){if(this.$10!=null){this.$10($p0,$p1);}},ensureUser:function(){if(this.get_user()==null){this.set_user(new BL.User());}return this.get_user();}}
BL.GeoUtilities=function(){}
BL.GeoUtilities.boundingBoxFromLatLong=function(latitude,longitude,distance){var $0={};$0.latitude=latitude;$0.longitude=longitude;return BL.GeoUtilities.boundingBoxFromPoint($0,distance);}
BL.GeoUtilities.boundingBoxFromPoint=function(point,distance){var $0=BL.GeoUtilities.getDestination(point.latitude,point.longitude,distance,315);var $1=BL.GeoUtilities.getDestination(point.latitude,point.longitude,distance,135);var $2={};$2.northLatitude=$0.latitude;$2.westLongitude=$0.longitude;$2.eastLongitude=$1.longitude;$2.southLatitude=$1.latitude;return $2;}
BL.GeoUtilities.pointFromLatLong=function(latitude,longitude){var $0={};$0.longitude=longitude;$0.latitude=latitude;return $0;}
BL.GeoUtilities.pointFromString=function(val){val=val.trim();if(!val.startsWith('[')||!val.endsWith(']')){return null;}var $0=val.split(',');if($0.length!==2){return null;}var $1={};$1.longitude=parseFloat($0[0]);$1.latitude=parseFloat($0[1]);return $1;}
BL.GeoUtilities.getStringValue=function(point){return '['+point.longitude+', '+point.latitude+']';}
BL.GeoUtilities.convertToRadians=function(degrees){return (degrees*Math.PI)/180;}
BL.GeoUtilities.convertToDegrees=function(radians){return (radians*180)/Math.PI;}
BL.GeoUtilities.getDistance=function(latitude1,longitude1,latitude2,longitude2){var $0=BL.GeoUtilities.convertToRadians(latitude2-latitude1);var $1=BL.GeoUtilities.convertToRadians(longitude2-longitude1);latitude1=BL.GeoUtilities.convertToRadians(latitude1);latitude2=BL.GeoUtilities.convertToRadians(latitude2);var $2=Math.sin($0/2)*Math.sin($0/2)+Math.sin($1/2)*Math.sin($1/2)*Math.cos(latitude1)*Math.cos(latitude2);var $3=2*Math.atan2(Math.sqrt($2),Math.sqrt(1-$2));return 6371.009*$3;}
BL.GeoUtilities.getDestination=function(latitude1,longitude1,distance,bearing){var $0=BL.GeoUtilities.convertToRadians(bearing);var $1={};var $2=distance/6371.009;latitude1=BL.GeoUtilities.convertToRadians(latitude1);longitude1=BL.GeoUtilities.convertToRadians(longitude1);$1.latitude=Math.asin((Math.sin(latitude1)*Math.cos($2))+(Math.cos(latitude1)*Math.sin($2)*Math.cos($0)));$1.longitude=longitude1+Math.atan2(Math.sin($0)*Math.sin($2)*Math.cos(latitude1),Math.cos($2)-Math.sin(latitude1)*Math.sin($1.latitude));$1.longitude=($1.longitude+3*Math.PI)%(2*Math.PI)-Math.PI;$1.latitude=BL.GeoUtilities.convertToDegrees($1.latitude);$1.longitude=BL.GeoUtilities.convertToDegrees($1.longitude);return $1;}
BL.GeoUtilities.getBearing=function(latitude1,longitude1,latitude2,longitude2){latitude1=BL.GeoUtilities.convertToRadians(latitude1);latitude2=BL.GeoUtilities.convertToRadians(latitude2);var $0=BL.GeoUtilities.convertToRadians(longitude2-longitude1);var $1=Math.sin($0)*Math.cos(latitude2);var $2=Math.cos(latitude1)*Math.sin(latitude2)-Math.sin(latitude1)*Math.cos(latitude2)*Math.cos($0);return Math.floor((BL.GeoUtilities.toDeg(Math.atan2($1,$2))+360)%360);}
BL.GeoUtilities.toDeg=function(number){return number*180/Math.PI;}
BL.GeoUtilities.prototype={convertKmToLatitude:function(km){return (km*1000)/111133;}}
BL.LongEventArgs=function(number){BL.LongEventArgs.initializeBase(this);this.$1_0=number;}
BL.LongEventArgs.prototype={$1_0:0,get_selected:function(){return this.$1_0;},set_selected:function(value){this.$1_0=value;return value;}}
BL.PageErrorEventArgs=function(pageError){BL.PageErrorEventArgs.initializeBase(this);this.$1_0=pageError;}
BL.PageErrorEventArgs.prototype={$1_0:null,get_pageError:function(){return this.$1_0;},set_pageError:function(value){this.$1_0=value;return value;}}
BL.PageError=function(message,url,line,trace){this.$0=message;this.$1=url;this.$2=line;this.$3=trace;}
BL.PageError.add_occurred=function(value){BL.PageError.$4=ss.Delegate.combine(BL.PageError.$4,value);}
BL.PageError.remove_occurred=function(value){BL.PageError.$4=ss.Delegate.remove(BL.PageError.$4,value);}
BL.PageError.attach=function(){window.onerror=BL.PageError.handleError;}
BL.PageError.handleError=function(message,url,line){var $0=null;$0=BL.PageError.HandleError(arguments.callee.caller);return true;}
BL.PageError.getTrace=function(f){ if (f == null) { return []; } else { return BL.PageError.GetTrace(f.caller).concat([f.toString().split('(')[0].substring(9) + '(' + f.arguments.join(',') + ')']); };return '';}
BL.PageError.prototype={$0:null,$1:null,$2:null,$3:null,getHtml:function(){var $0=new ss.StringBuilder();$0.append('<h3>');$0.append('Error: '+this.$0);$0.append('</h3>');$0.append('<h4>');$0.append('Stack: '+this.$3);$0.append('</h4>');return $0.toString();}}
BL.StringEventArgs=function(stringValue){BL.StringEventArgs.initializeBase(this);this.$1_0=stringValue;}
BL.StringEventArgs.prototype={$1_0:null,get_value:function(){return this.$1_0;},set_value:function(value){this.$1_0=value;return value;}}
BL.IntegerEventArgs=function(number){BL.IntegerEventArgs.initializeBase(this);this.$1_0=number;}
BL.IntegerEventArgs.prototype={$1_0:0,get_selectedInt:function(){return this.$1_0;},set_selectedInt:function(value){this.$1_0=value;return value;}}
BL.Operation=function(){this.$0=[];}
BL.Operation.prototype={$0:null,$1:null,get_callbackStates:function(){return this.$0;},get_tag:function(){return this.$1;},set_tag:function(value){this.$1=value;return value;},addCallback:function(c,state){if(c!=null){var $0=new BL.CallbackState();$0.set_callback(c);$0.set_state(state);this.$0.add($0);}},completeAsAsyncDone:function(data){var $0=new BL.CallbackResult();$0.set_isCompleted(true);$0.set_completedSynchronously(true);$0.set_data(data);this.complete($0);},complete:function(template){var $enum1=ss.IEnumerator.getEnumerator(this.$0);while($enum1.moveNext()){var $0=$enum1.current;if($0.get_callback()!=null){var $1=new BL.CallbackResult();$1.set_asyncState($0.get_state());$1.set_isCompleted(template.get_isCompleted());$1.set_completedSynchronously(template.get_completedSynchronously());$1.set_tag($0.get_tag());$1.set_data(template.get_data());$0.get_callback()($1);}}}}
BL.NotifyCollectionChangedEventArgs=function(action){BL.NotifyCollectionChangedEventArgs.initializeBase(this);this.$1_0=action;}
BL.NotifyCollectionChangedEventArgs.itemAdded=function(item){var $0=new BL.NotifyCollectionChangedEventArgs(1);var $1=[];$1.add(item);$0.set_newItems($1);return $0;}
BL.NotifyCollectionChangedEventArgs.itemStateChange=function(item,propertyName){var $0=new BL.NotifyCollectionChangedEventArgs(6);var $1=[];$1.add(item);$0.set_changedItems($1);$0.set_stateChangePropertyName(propertyName);return $0;}
BL.NotifyCollectionChangedEventArgs.itemRemoved=function(item){var $0=new BL.NotifyCollectionChangedEventArgs(3);var $1=[];$1.add(item);$0.set_oldItems($1);return $0;}
BL.NotifyCollectionChangedEventArgs.prototype={$1_0:0,$1_1:null,$1_2:null,$1_3:null,$1_4:null,get_stateChangePropertyName:function(){return this.$1_4;},set_stateChangePropertyName:function(value){this.$1_4=value;return value;},get_action:function(){return this.$1_0;},get_changedItems:function(){return this.$1_3;},set_changedItems:function(value){this.$1_3=value;return value;},get_newItems:function(){return this.$1_1;},set_newItems:function(value){this.$1_1=value;return value;},get_oldItems:function(){return this.$1_2;},set_oldItems:function(value){this.$1_2=value;return value;}}
BL.PropertyChangedEventArgs=function(propertyName){BL.PropertyChangedEventArgs.initializeBase(this);this.$1_0=propertyName;}
BL.PropertyChangedEventArgs.get_all=function(){return new BL.PropertyChangedEventArgs('*');}
BL.PropertyChangedEventArgs.prototype={$1_0:null,get_propertyName:function(){return this.$1_0;},set_propertyName:function(value){this.$1_0=value;return value;}}
BL.RichContentContainer=function(container){BL.RichContentContainer.initializeBase(this,[container]);this.$8=[];}
BL.RichContentContainer.prototype={$8:null,$9:false,$A:false,$B:null,get_elements:function(){return this.$8;},get_text:function(){if(this.$B==null){var $0=new ss.StringBuilder();var $enum1=ss.IEnumerator.getEnumerator(this.$8);while($enum1.moveNext()){var $1=$enum1.current;$0.append($1.get_text());}this.$B=$0.toString();}return this.$B;},set_text:function(value){this.$8.clear();var $0=new BL.RichContentRun(this);$0.set_text(value);this.$8.add($0);return value;},get_isUniform:function(){if(!this.$A){var $0=null;this.$9=true;var $enum1=ss.IEnumerator.getEnumerator(this.$8);while($enum1.moveNext()){var $1=$enum1.current;if(Type.canCast($1,BL.RichContentContainer)){this.$9=false;break;}else if(Type.canCast($1,BL.RichContentRun)){var $2=$1;if($0==null){$0=$2.get_formatHash();}else if($2.get_formatHash()!==$0){this.$9=false;break;}}}this.$A=true;}return this.$9;},addText:function(text){var $0=new BL.RichContentRun(this);$0.set_text(text);this.$8.add($0);return $0;},addLink:function(text,linkId){var $0=new BL.RichContentRun(this);$0.set_text(text);$0.set_isLink(true);$0.set_linkId(linkId);this.$8.add($0);return $0;}}
BL.RichContentDocument=function(){BL.RichContentDocument.initializeBase(this,[null]);this.$7(this);}
BL.RichContentElement=function(container){BL.RichContentElement.initializeBase(this);this.$5=container;}
BL.RichContentElement.prototype={$3:null,$4:null,$5:null,$6:null,get_foreground:function(){return this.$3;},set_foreground:function(value){this.$3=value;return value;},get_background:function(){return this.$4;},set_background:function(value){this.$4=value;return value;},get_container:function(){return this.$5;},get_document:function(){if(this.$6==null){this.$6=this.$5.get_document();}return this.$6;},$7:function($p0){this.$6=$p0;},initForSerialization:function(){BL.RichContentElement.callBaseMethod(this, 'initForSerialization');this.get_serializableType().ensureObject('foreground',null);this.get_serializableType().ensureObject('background',null);}}
BL.RichContentRun=function(container){BL.RichContentRun.initializeBase(this,[container]);}
BL.RichContentRun.prototype={$8:false,$9:null,$A:null,$B:null,get_text:function(){return this.$B;},set_text:function(value){this.$B=value;return value;},get_isLink:function(){return this.$8;},set_isLink:function(value){this.$8=value;return value;},get_linkId:function(){return this.$9;},set_linkId:function(value){this.$9=value;return value;},get_container:function(){return this.$A;},get_formatHash:function(){var $0=new ss.StringBuilder();$0.append('<F');if(this.$9!=null){$0.append(' LinkId="'+this.$9+'"');}if(!!this.$8){$0.append(' IsLink="true"');}$0.append('>');if(this.get_foreground()!=null){}if(this.get_background()!=null){}$0.append('</F>');return $0.toString();}}
BL.RichContentSection=function(container){BL.RichContentSection.initializeBase(this,[container]);}
BL.SerializableObject=function(){this.$2();}
BL.SerializableObject.prototype={$0:null,isInitializedForSerialization:false,add_propertyChanged:function(value){this.$1=ss.Delegate.combine(this.$1,value);},remove_propertyChanged:function(value){this.$1=ss.Delegate.remove(this.$1,value);},$1:null,get_serializationName:function(){return null;},get_serializableType:function(){return this.$0;},initForSerialization:function(){},copyFromObject:function(sourceObject){this.applyObject(sourceObject.getObject());},getObject:function(){var $0=this.get_serializableType().get_properties();var $1={};var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;var sv=$2.get_name();var sd=$2.getShortTypeName();var st=$2.get_type();var fn=this['get_'+sd+'_'+sv];if (fn != null) { 
                if (st==10) {var val=fn.apply(this); var arr = new Array(); var enumer=ss.IEnumerator.getEnumerator(val); while (enumer.moveNext()) { arr.push(enumer.current.getObject()); } $1[$2.get_name()]=arr;  }
                else if (st==5) {var val=fn.apply(this); if (val != null) { val = val.getObject(); $1[$2.get_name()]=val; }  }
                else {var val=fn.apply(this);if (val != null){$1[$2.get_name()]=val;}}};}return $1;},applyObject:function(o){var $0=this.get_serializableType().get_properties();if(o==null){throw new Error('Applying empty object');}var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;var sv = $1.get_name();var sd=$1.getShortTypeName();var st=$1.get_type(); if (st==6) 
{var fn=this['get_'+sd+'_'+sv];if (fn != null) { var coll=fn.apply(this); if (coll != null) {var val = o[sv]; if (!(val === undefined)) {coll.clear(); for (var i=0; i<val.length; i++) { var item=val[i]; coll.add(item); } }  } }  } else if (st==10)
{var fn=this['get_'+sd+'_'+sv];if (fn != null) { var coll=fn.apply(this); if (coll != null) {var val = o[sv]; if (!(val === undefined)) {coll.clear(); for (var i=0; i<val.length; i++) { var item=val[i]; var newobj = coll.create(); newobj.applyObject(item); coll.add(newobj); } }  } }  } else if (st == 7)
{var fn=this['set_'+sd+'_'+sv];if (fn != null) { var val = o[sv]; if (!(val === undefined)) { val = new Date(parseInt(val.replace('/Date(', '').replace(')/', ''))); val = new Date(Date.UTC(val.getFullYear(), val.getMonth(), val.getDate(), val.getHours(), val.getMinutes(), val.getSeconds(), val.getMilliseconds()));  } if (!(val === undefined)) { fn.apply(this, [val]); }}} else if (st == 5)
{var fn=this['get_'+sd+'_'+sv];if (fn != null) { var obj=fn.apply(this); if (obj != null) { var val = o[sv]; if (!(val === undefined)) { obj.applyObject(val); }}}} else
{var fn=this['set_'+sd+'_'+sv];if (fn != null) { var val = o[sv]; if (!(val === undefined)) { fn.apply(this, [val]); }}};}},setProperty:function(propertyName,value){var $0=this.get_serializableType().getProperty(propertyName);if($0==null){return;}var $1=propertyName.charCodeAt(0);if($1>=65&&$1<93){propertyName=String.fromCharCode($1+32)+propertyName.substring(1,propertyName.length);}if($0.get_type()===6&&Type.canCast(value,String)){var $2=(value).split(',');var $3=[];var $enum1=ss.IEnumerator.getEnumerator($2);while($enum1.moveNext()){var $4=$enum1.current;$3.add($4);}value=$2;}value=$0.getValue(value);var fn = this['set_' + $0.getShortTypeName() + '_' + $0.get_name()];  if (fn != null) {fn.apply(this, [value] );};},$2:function(){if(!this.isInitializedForSerialization){this.isInitializedForSerialization=true;var $0=Type.getInstanceType(this);this.$0=BL.SerializableTypeManager.get_current().getTypeByName($0.get_fullName());if(this.$0==null){this.$0=BL.SerializableTypeManager.get_current().ensure($0);this.$0.set_tagName(this.get_serializationName());this.$0.beginInit();for (var s in this)  { if (s.length > 6) { if (s.substring(0,4) == "get_" && s.charAt(5) == '_') { var sp = new BL.SerializableProperty(); sp.set_name(s.substring(6, s.length)); sp.setTypeByShortName(s.charAt(4)); this.$0.addProperty(sp); }}};this.initForSerialization();this.$0.endInit();}}},getPropertyChangedEventCount:function(){var $0=-1;$0=this.$1._targets.length / 2;return $0;},applyTo:function(objectToApplyTo){var $0=this.getObject();objectToApplyTo.applyObject($0);},isEqualTo:function(compareTo){var $0=this.getObject();var $1=JSON.stringify($0);var $2=compareTo.getObject();var $3=JSON.stringify($2);return !$3.compareTo($1);},notifyPropertyChanged:function(propertyName){if(this.$1!=null){var $0=new BL.PropertyChangedEventArgs(propertyName);this.$1(this,$0);}}}
BL.SerializableProperty=function(){this.$5=0;}
BL.SerializableProperty.prototype={$0:true,$1:null,$2:null,$3:null,$4:null,$6:false,$7:false,$8:null,get_itemType:function(){return this.$8;},set_itemType:function(value){this.$8=value;return value;},get_containerNodeName:function(){return this.$3;},set_containerNodeName:function(value){this.$3=value;return value;},get_propertyToAddObjectTo:function(){return this.$2;},set_propertyToAddObjectTo:function(value){this.$2=value;return value;},get_type:function(){return this.$5;},set_type:function(value){this.$5=value;return value;},get_itemName:function(){return this.$4;},set_itemName:function(value){this.$4=value;return value;},get_isSerializableObject:function(){return this.$7;},get_isAttribute:function(){return this.$0;},set_isAttribute:function(value){this.$0=value;return value;},get_isComplex:function(){return this.$6;},get_name:function(){return this.$1;},set_name:function(value){this.$1=value;return value;},$9:function(){},getShortTypeName:function(){switch(this.$5){case 0:return 's';case 7:return 'd';case 8:return 'y';case 1:return 'i';case 5:return 'o';case 10:return 'p';case 6:return 'q';case 3:return 'b';case 4:return 'n';case 9:return 'u';}return '@';},setTypeByShortName:function(shortName){switch(shortName){case 's':this.$5=0;break;case 'p':this.$5=10;break;case 'q':this.$5=6;break;case 'u':this.$5=9;break;case 'i':this.$5=1;break;case 'y':this.$5=8;break;case 'd':this.$5=7;break;case 'n':this.$5=4;break;case 'o':this.$5=5;break;case 'b':this.$5=3;break;}},getValue:function(value){try{if(this.get_type()===3){if(Type.canCast(value,String)){value=Boolean.parse(value);}}else if(this.get_type()===1){if(Type.canCast(value,String)){value=parseInt(value);}}else if(this.get_type()===4){if(Type.canCast(value,String)){value=parseFloat(value);}}else if(this.get_type()===7){if(Type.canCast(value,String)){value=Date.parseDate(value);}}}catch($0){value=null;}return value;},$A:function($p0,$p1){},$B:function($p0){return null;}}
BL.SerializableType=function(stm,t){this.$4=stm;this.$0=t;this.$1={};this.$2=[];}
BL.SerializableType.prototype={$0:null,$1:null,$2:null,$3:null,$4:null,get_properties:function(){return this.$2;},get_type:function(){return this.$0;},get_tagName:function(){if(this.$3!=null){return this.$3;}return this.$0.get_fullName();},set_tagName:function(value){this.$3=value;return value;},ensurePropertyLocal:function(sp){},beginInit:function(){},endInit:function(){},ensureScalarCollection:function(propertyName,itemName,containerNodeName,propertyToAddObjectTo,itemTypeName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}if(itemName==null){itemName=propertyName;}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(false);$1.set_type(6);$1.set_containerNodeName(containerNodeName);$1.set_propertyToAddObjectTo(propertyToAddObjectTo);$1.set_itemName(itemName);$1.set_itemType(Type.getType(itemTypeName));this.addProperty($1);return $1;},addProperty:function(sp){this.ensurePropertyLocal(sp);this.$1[sp.get_name().toLowerCase()]=sp;this.$2.add(sp);},ensureObject:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_type(5);$1.set_isAttribute(false);this.addProperty($1);return $1;},ensureEnum:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(true);$1.set_type(2);this.addProperty($1);return $1;},ensureInteger:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}if(serializationName==null){serializationName=propertyName;}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(true);$1.set_type(1);this.addProperty($1);return $1;},ensureDouble:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}if(serializationName==null){serializationName=propertyName;}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(true);$1.set_type(4);this.addProperty($1);return $1;},ensureBoolean:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}if(serializationName==null){serializationName=propertyName;}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(true);this.addProperty($1);return $1;},ensureString:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(true);this.addProperty($1);return $1;},getProperty:function(propertyName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}return null;},ensureProperty:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}var $1=new BL.SerializableProperty();$1.set_name(propertyName);this.addProperty($1);return $1;}}
BL.SerializableTypeManager=function(){this.$1={};}
BL.SerializableTypeManager.get_current=function(){if(BL.SerializableTypeManager.$0==null){BL.SerializableTypeManager.$0=new BL.SerializableTypeManager();}return BL.SerializableTypeManager.$0;}
BL.SerializableTypeManager.prototype={$1:null,$2:null,hasType:function(typeName){return Object.keyExists(this.$1,typeName);},getTypeByName:function(typeName){if(Object.keyExists(this.$1,typeName)){return this.$1[typeName];}return null;},ensure:function(t){var $0=t.get_fullName();var $1=null;if(Object.keyExists(this.$1,$0)){$1=this.$1[$0];}else{$1=new BL.SerializableType(this,t);this.$2=null;this.$1[$0]=$1;}return $1;},ensureSerializableType:function(o){var $0=Type.getInstanceType(o);var $1=$0.get_fullName();var $2=null;if(Object.keyExists(this.$1,$1)){$2=this.$1[$1];}else{$2=new BL.SerializableType(this,$0);this.$2=null;this.$1[$1]=$2;}return $2;},$3:function(){if(this.$2==null){this.$2=new Array(Object.getKeyCount(this.$1));var $0=0;var $dict1=this.$1;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};var $2=$1.value;this.$2[$0]=$2.get_type();$0++;}}return this.$2;}}
BL.Utilities=function(){}
BL.Utilities.getString=function(value){return value.toString();}
BL.Utilities.initialize=function(){if(BL.Utilities.$1){return;}if(BL.Utilities.$0==null){BL.Utilities.$0='1.0.0.0';}BL.Utilities.$1=true;}
BL.Utilities.$2=function(){BL.Utilities.$0=BL.Utilities.createRandomId();}
BL.Utilities.get_versionHash=function(){if(BL.Utilities.$0==null){BL.Utilities.initialize();}return BL.Utilities.$0;}
BL.Utilities.getDayName=function(dayId){switch(dayId){case 0:return 'Sunday';case 1:return 'Monday';case 2:return 'Tuesday';case 3:return 'Wednesday';case 4:return 'Thursday';case 5:return 'Friday';case 6:return 'Saturday';default:throw new Error('');}}
BL.Utilities.getMonthName=function(zeroBasedMonthId){switch(zeroBasedMonthId){case 0:return 'January';case 1:return 'February';case 2:return 'March';case 3:return 'April';case 4:return 'May';case 5:return 'June';case 6:return 'July';case 7:return 'August';case 8:return 'September';case 9:return 'October';case 10:return 'November';case 11:return 'December';default:throw new Error('');}}
BL.Utilities.getHours=function(compare){var $0=compare.getHours();if(!$0){return '12';}else if($0>12){return ($0-12).toString();}return $0.toString();}
BL.Utilities.getFriendlyDateDescription=function(compare){var $0=Date.get_now();var $1=$0.getTime()/1000;var $2=compare.getTime()/1000;var $3=compare.getMinutes().toString();while($3.length<2){$3='0'+$3;}if($1-$2>(300*24*60*60)){return BL.Utilities.getMonthName(compare.getMonth())+' '+compare.getDate().toString()+' '+compare.getFullYear();}else if($1-$2>(7*24*60*60)){return BL.Utilities.getMonthName(compare.getMonth())+' '+compare.getDate().toString();}else if($1-$2>(7*24*60*60)){return BL.Utilities.getMonthName(compare.getMonth())+' '+compare.getDate().toString();}else if($1-$2>(7*24*60*60)){return BL.Utilities.getMonthName(compare.getMonth())+' '+compare.getDate().toString();}else if($1-$2>(1*24*60*60)){return BL.Utilities.getDayName(compare.getDay())+' at '+BL.Utilities.getHours(compare)+':'+$3;}if(compare.getDate()===$0.getDate()){return 'today at '+BL.Utilities.getHours(compare)+':'+$3;}else{return 'yesterday at '+BL.Utilities.getHours(compare)+':'+$3;}}
BL.Utilities.createRandomId=function(){var $0='';for(var $1=0;$1<6;$1++){var $2=Math.random()%8;if($2<=1&&$1>0){$0+=String.fromCharCode((Math.random()*10)+48);}else if($2<=4){$0+=String.fromCharCode((Math.random()*26)+97);}else{$0+=String.fromCharCode((Math.random()*26)+65);}}return $0;}
BL.Utilities.prePad=function(str,c,length){while(str.length<length){str=c+str;}return str;}
BL.Utilities.getRandomId=function(){var $0='';for(var $1=0;$1<6;$1++){var $2=Math.random()*3;if($2<1){var $3=Math.floor(Math.random()*26);$0+=String.fromCharCode($3+65);}else if($2<2){var $4=Math.floor(Math.random()*26);$0+=String.fromCharCode($4+97);}else{var $5=Math.floor(Math.random()*10);$0+=String.fromCharCode($5+48);}}return $0;}
BL.Utilities.getHMSMFromDateTime=function(dt){var $0='';$0+=BL.Utilities.prePad(dt.getHours().toString(),'0',2)+':';$0+=BL.Utilities.prePad(dt.getMinutes().toString(),'0',2)+':';$0+=BL.Utilities.prePad(dt.getSeconds().toString(),'0',2)+':';$0+=BL.Utilities.prePad(dt.getMilliseconds().toString(),'0',3);return $0;}
BL.Utilities.byteSubtract=function(start,valueToSubtract){var $0=start-valueToSubtract;if($0<0){$0=0;}return temp;;return 0;}
BL.Utilities.byteAdd=function(start,valueToAdd){var $0=start+valueToAdd;if($0>255){$0=255;}return temp;;return 0;}
BL.CallbackResult=function(){}
BL.CallbackResult.prototype={$0:null,$1:false,$2:false,$3:null,$4:null,$5:null,get_errorMessage:function(){return this.$5;},set_errorMessage:function(value){this.$5=value;return value;},get_asyncState:function(){return this.$0;},set_asyncState:function(value){this.$0=value;return value;},get_completedSynchronously:function(){return this.$1;},set_completedSynchronously:function(value){this.$1=value;return value;},get_isCompleted:function(){return this.$2;},set_isCompleted:function(value){this.$2=value;return value;},get_data:function(){return this.$4;},set_data:function(value){this.$4=value;return value;},get_tag:function(){return this.$3;},set_tag:function(value){this.$3=value;return value;}}
BL.CallbackState=function(){}
BL.CallbackState.wrap=function(callback,state){var $0=new BL.CallbackState();$0.set_callback(callback);$0.set_state(state);return $0;}
BL.CallbackState.wrapWithTag=function(callback,state,tag){var $0=new BL.CallbackState();$0.set_callback(callback);$0.set_state(state);$0.set_tag(tag);return $0;}
BL.CallbackState.unwrapAndExecuteCallbacksWithTag=function(result,tag){if(Type.canCast(result.get_asyncState(),BL.CallbackState)){var $0=result.get_asyncState();if($0.get_callback()!=null){var $1=new BL.CallbackResult();$1.set_completedSynchronously(result.get_completedSynchronously());$1.set_isCompleted(result.get_isCompleted());$1.set_data(result.get_data());$1.set_asyncState($0.get_state());$1.set_tag(tag);$0.get_callback()($1);}}}
BL.CallbackState.unwrapAndExecuteCallbacksAsError=function(result){if(Type.canCast(result,BL.CallbackResult)){BL.CallbackState.unwrapAndExecuteCallbacksAsErrorWithMessage(result,(result).get_errorMessage());}else{BL.CallbackState.unwrapAndExecuteCallbacksAsErrorWithMessage(result,null);}}
BL.CallbackState.unwrapAndExecuteCallbacksAsErrorWithMessage=function(result,errorMessage){if(Type.canCast(result.get_asyncState(),BL.CallbackState)){var $0=result.get_asyncState();if($0.get_callback()!=null){var $1=new BL.CallbackResult();$1.set_completedSynchronously(result.get_completedSynchronously());$1.set_isCompleted(false);$1.set_errorMessage(errorMessage);$1.set_data(result.get_data());$1.set_asyncState($0.get_state());if(Type.canCast(result,BL.CallbackResult)){$1.set_tag((result).get_tag());}$0.get_callback()($1);}}}
BL.CallbackState.unwrapAndExecuteCallbacks=function(result){if(Type.canCast(result.get_asyncState(),BL.CallbackState)){var $0=result.get_asyncState();if($0.get_callback()!=null){var $1=new BL.CallbackResult();$1.set_completedSynchronously(result.get_completedSynchronously());$1.set_isCompleted(result.get_isCompleted());$1.set_data(result.get_data());$1.set_asyncState($0.get_state());if(Type.canCast(result,BL.CallbackResult)){$1.set_tag((result).get_tag());}$0.get_callback()($1);}}}
BL.CallbackState.prototype={$0:null,$1:null,$2:null,get_callback:function(){return this.$0;},set_callback:function(value){this.$0=value;return value;},get_state:function(){return this.$1;},set_state:function(value){this.$1=value;return value;},get_tag:function(){return this.$2;},set_tag:function(value){this.$2=value;return value;}}
BL.ColorDefinition=function(){BL.ColorDefinition.initializeBase(this);}
BL.ColorDefinition.prototype={$3:0,$4:0,$5:0,get_y_red:function(){return this.$3;},set_y_red:function(value){this.$3=value;return value;},get_y_green:function(){return this.$4;},set_y_green:function(value){this.$4=value;return value;},get_y_blue:function(){return this.$5;},set_y_blue:function(value){this.$5=value;return value;},initForSerialization:function(){BL.ColorDefinition.callBaseMethod(this, 'initForSerialization');this.get_serializableType().ensureString('red','R');this.get_serializableType().ensureString('green','G');this.get_serializableType().ensureString('blue','B');},createColorInt:function(){return this.createColorIntWithAlpha(255);},createColorIntWithAlpha:function(alpha){throw new Error('Unimplemented');return -1;}}
BL.Log=function(){}
BL.Log.get_items=function(){return BL.Log.$0;}
BL.Log.add_itemAdded=function(value){BL.Log.$2=ss.Delegate.combine(BL.Log.$2,value);}
BL.Log.remove_itemAdded=function(value){BL.Log.$2=ss.Delegate.remove(BL.Log.$2,value);}
BL.Log.enterScope=function(eventId){}
BL.Log.enterScopeMessage=function(eventId,message){BL.Log.$1[eventId]=Date.get_now();if(message!=null){BL.Log.full(eventId,message,16);}}
BL.Log.endScope=function(eventId,message){var $0=Date.get_now();var $1='';var $2=-1;if(Object.keyExists(BL.Log.$1,eventId)){}else{$1='unk';}BL.Log.$1[eventId]=Date.get_now();if(message!=null){BL.Log.fullTime(eventId,String.format(message,$1),32,$2,null);}}
BL.Log.debugMessageStatus=function(message,status){BL.Log.full(-1,message,status);}
BL.Log.debugMessage=function(message){BL.Log.fullTime(-1,message,4,-1,null);}
BL.Log.detailedMessage=function(message,details){BL.Log.fullTime(-1,message,2,-1,details);}
BL.Log.event=function(eventId){BL.Log.fullTime(eventId,null,2,-1,null);}
BL.Log.detailedEvent=function(eventId,message){BL.Log.fullTime(eventId,null,2,-1,message);}
BL.Log.message=function(message){BL.Log.fullTime(-1,message,4,-1,null);}
BL.Log.error=function(message){BL.Log.fullTime(-1,message,8,-1,null);}
BL.Log.full=function(eventId,message,status){BL.Log.fullTime(eventId,message,status,-1,null);}
BL.Log.fullTime=function(eventId,message,status,timeTaken,details){var $0=new BL.LogItem(eventId,message,status,timeTaken,null);$0.set_details(details);BL.Log.$0.add($0);if(BL.Log.$2!=null){var $1=new BL.LogItemEventArgs($0);BL.Log.$2($0,$1);}}
BL.LogItem=function(eventId,message,status,timeTaken,details){this.$5=eventId;var $0=Date.get_now();this.$0=new Date($0.getUTCFullYear(),$0.getUTCMonth(),$0.getUTCDate(),$0.getUTCHours(),$0.getUTCMinutes(),$0.getUTCSeconds(),$0.getUTCMilliseconds());this.$1=message;this.$2=status;this.$3=timeTaken;this.$4=details;}
BL.LogItem.prototype={$0:null,$1:null,$2:0,$3:0,$4:null,id:null,$5:0,get_eventId:function(){return this.$5;},set_eventId:function(value){this.$5=value;return value;},get_id:function(){if(this.id==null){this.id=BL.Utilities.createRandomId();}return this.id;},set_id:function(value){this.id=value;return value;},get_hasId:function(){return this.id!=null;},get_created:function(){return this.$0;},get_message:function(){return this.$1;},get_status:function(){return this.$2;},get_timeTaken:function(){return this.$3;},get_details:function(){return this.$4;},set_details:function(value){this.$4=value;return value;}}
BL.LogItemEventArgs=function(item){BL.LogItemEventArgs.initializeBase(this);this.$1_0=item;}
BL.LogItemEventArgs.prototype={$1_0:null,get_item:function(){return this.$1_0;},set_item:function(value){this.$1_0=value;return value;}}
Type.registerNamespace('Bendyline.Base');Bendyline.Base.HtmlUtilities=function(){}
Bendyline.Base.HtmlUtilities.setInnerHtml=function(e,html){if (typeof window.toStaticHTML == "undefined") {e.innerHTML=html;} else {e.innerHTML=window.toStaticHTML(html);};}
Bendyline.Base.JsonUtilities=function(){}
Bendyline.Base.JsonUtilities.encode=function(value){if(value==null){return null;}value=value.replaceAll('"','\\"');return value;}
Bendyline.Base.TextUtilities=function(){}
Bendyline.Base.TextUtilities.getContentsInBetween=function(source,start,end){var $0=source.indexOf(start);if($0>=0){var $1=source.indexOf(end,$0+1);if($1>=0){return source.substring($0+start.length,$1-($0+start.length));}}return null;}
Bendyline.Base.UrlUtilities=function(){}
Bendyline.Base.UrlUtilities.ensurePathDoesNotEndWithSlash=function(path){if(path.endsWith('/')){path=path.substring(0,path.length-1);}return path;}
Bendyline.Base.UrlUtilities.getFileNameFromUrl=function(url){var $0=url;var $1=$0.lastIndexOf('/');if($1>=0){$0=$0.substring($1+1,$0.length);}return $0;}
Bendyline.Base.UrlUtilities.getCanonicalBaseUrl=function(url){var $0=url.indexOf('/',8);if($0>=0){url=url.substring(0,$0+1);}return url.toLowerCase();}
Bendyline.Base.UrlUtilities.ensurePathEndsWithSlash=function(path){if(!path.endsWith('/')){path+='/';}return path;}
Bendyline.Base.UrlUtilities.ensurePathDoesNotStartWithSlash=function(path){if(path.startsWith('/')){path=path.substring(1,path.length);}return path;}
Bendyline.Base.UrlUtilities.ensurePathStartsWithSlash=function(path){if(!path.startsWith('/')){path='/'+path;}return path;}
BL.ObjectEventArgs.registerClass('BL.ObjectEventArgs',ss.EventArgs);BL.UserManager.registerClass('BL.UserManager');BL.SerializableObject.registerClass('BL.SerializableObject');BL.UserReference.registerClass('BL.UserReference',BL.SerializableObject);BL.User.registerClass('BL.User',BL.UserReference);BL.Context.registerClass('BL.Context');BL.GeoUtilities.registerClass('BL.GeoUtilities');BL.LongEventArgs.registerClass('BL.LongEventArgs',ss.EventArgs);BL.PageErrorEventArgs.registerClass('BL.PageErrorEventArgs',ss.EventArgs);BL.PageError.registerClass('BL.PageError');BL.StringEventArgs.registerClass('BL.StringEventArgs',ss.EventArgs);BL.IntegerEventArgs.registerClass('BL.IntegerEventArgs',ss.EventArgs);BL.Operation.registerClass('BL.Operation');BL.NotifyCollectionChangedEventArgs.registerClass('BL.NotifyCollectionChangedEventArgs',ss.EventArgs);BL.PropertyChangedEventArgs.registerClass('BL.PropertyChangedEventArgs',ss.EventArgs);BL.RichContentElement.registerClass('BL.RichContentElement',BL.SerializableObject);BL.RichContentContainer.registerClass('BL.RichContentContainer',BL.RichContentElement);BL.RichContentSection.registerClass('BL.RichContentSection',BL.RichContentContainer);BL.RichContentDocument.registerClass('BL.RichContentDocument',BL.RichContentSection);BL.RichContentRun.registerClass('BL.RichContentRun',BL.RichContentElement);BL.SerializableProperty.registerClass('BL.SerializableProperty');BL.SerializableType.registerClass('BL.SerializableType');BL.SerializableTypeManager.registerClass('BL.SerializableTypeManager');BL.Utilities.registerClass('BL.Utilities');BL.CallbackResult.registerClass('BL.CallbackResult',null,BL.IAsyncResult);BL.CallbackState.registerClass('BL.CallbackState');BL.ColorDefinition.registerClass('BL.ColorDefinition',BL.SerializableObject);BL.Log.registerClass('BL.Log');BL.LogItem.registerClass('BL.LogItem');BL.LogItemEventArgs.registerClass('BL.LogItemEventArgs',ss.EventArgs);Bendyline.Base.HtmlUtilities.registerClass('Bendyline.Base.HtmlUtilities');Bendyline.Base.JsonUtilities.registerClass('Bendyline.Base.JsonUtilities');Bendyline.Base.TextUtilities.registerClass('Bendyline.Base.TextUtilities');Bendyline.Base.UrlUtilities.registerClass('Bendyline.Base.UrlUtilities');BL.UserManager.$0=null;BL.Context.$0=new BL.Context();BL.PageError.$4=null;BL.SerializableTypeManager.$0=null;BL.Utilities.$0=null;BL.Utilities.$1=false;BL.Log.$0=null;BL.Log.$1=null;BL.Log.$2=null;(function(){BL.Log.$0=[];BL.Log.$1={};})();
})();// This script was generated using Script# v0.7.4.0
// bl.ui.js
(function(){
Type.registerNamespace('BL');BL.ControlIntegerEventArgs=function(c,selectedInt){BL.ControlIntegerEventArgs.initializeBase(this);this.$1_0=selectedInt;this.c=c;}
BL.ControlIntegerEventArgs.prototype={c:null,id:null,$1_0:0,get_selectedInt:function(){return this.$1_0;},set_selectedInt:function(value){this.$1_0=value;return value;},get_id:function(){if(this.id==null&&this.c!=null){return this.c.get_s_id();}return this.id;},set_id:function(value){this.id=value;return value;},get_control:function(){return this.c;},set_control:function(value){this.c=value;return value;}}
BL.PointAndStartElementEventArgs=function(startX,startY,x,y,element){BL.PointAndStartElementEventArgs.initializeBase(this);this.x=x;this.y=y;this.$1_2=element;}
BL.PointAndStartElementEventArgs.prototype={$1_0:0,$1_1:0,x:0,y:0,$1_2:null,get_startX:function(){return this.$1_0;},set_startX:function(value){this.$1_0=value;return value;},get_startY:function(){return this.$1_1;},set_startY:function(value){this.$1_1=value;return value;},get_x:function(){return this.x;},set_x:function(value){this.x=value;return value;},get_y:function(){return this.y;},set_y:function(value){this.y=value;return value;},get_element:function(){return this.$1_2;},set_element:function(value){this.$1_2=value;return value;},get_movedLeft:function(){return this.x>this.$1_0;},get_movedUp:function(){return this.y>this.$1_1;},get_movedRight:function(){return this.x<this.$1_0;},get_movedDown:function(){return this.y<this.$1_1;}}
BL.PointElementEventArgs=function(x,y,element){BL.PointElementEventArgs.initializeBase(this);this.x=x;this.y=y;this.$1_0=element;}
BL.PointElementEventArgs.prototype={x:0,y:0,$1_0:null,get_x:function(){return this.x;},set_x:function(value){this.x=value;return value;},get_y:function(){return this.y;},set_y:function(value){this.y=value;return value;},get_element:function(){return this.$1_0;},set_element:function(value){this.$1_0=value;return value;}}
BL.ContentItemControl=function(){BL.ContentItemControl.initializeBase(this);}
BL.ContentItemControl.prototype={$1_40:null,e_title:null,get_s_title:function(){return this.$1_40;},set_s_title:function(value){this.$1_40=value;this.onUpdate();return value;},onUpdate:function(){BL.ContentItemControl.callBaseMethod(this, 'onUpdate');if(this.e_title!=null){BL.UI.ElementUtilities.setText(this.e_title,this.$1_40);}}}
BL.ControlValueEventArgs=function(c){BL.ControlValueEventArgs.initializeBase(this);this.c=c;}
BL.ControlValueEventArgs.prototype={c:null,id:null,$1_0:null,get_value:function(){return this.$1_0;},set_value:function(value){this.$1_0=value;return value;},get_id:function(){if(this.id==null&&this.c!=null){return this.c.get_s_id();}return this.id;},set_id:function(value){this.id=value;return value;},get_control:function(){return this.c;},set_control:function(value){this.c=value;return value;}}
BL.ElementContentItemControl=function(){BL.ElementContentItemControl.initializeBase(this);}
BL.ElementContentItemControl.prototype={$1_40:null,get_s_title:function(){return this.$1_40;},set_s_title:function(value){this.$1_40=value;this.update();return value;},onEnsureElements:function(){BL.ElementContentItemControl.callBaseMethod(this, 'onEnsureElements');},onUpdate:function(){if(this.$1_40!=null){BL.UI.ElementUtilities.setText(this.get_element(),this.$1_40);}}}
BL.ControlEventArgs=function(c){BL.ControlEventArgs.initializeBase(this);this.c=c;}
BL.ControlEventArgs.prototype={c:null,id:null,get_id:function(){if(this.id==null&&this.c!=null){return this.c.get_s_id();}return this.id;},set_id:function(value){this.id=value;return value;},get_control:function(){return this.c;},set_control:function(value){this.c=value;return value;}}
Type.registerNamespace('BL.UI');BL.UI.IControl=function(){};BL.UI.IControl.registerInterface('BL.UI.IControl');BL.UI.IDialogManager=function(){};BL.UI.IDialogManager.registerInterface('BL.UI.IDialogManager');BL.UI.ElementAnimationType=function(){};BL.UI.ElementAnimationType.prototype = {posOutToLeft:0,leftInToPos:1,posOutToRight:2,rightInToPos:3}
BL.UI.ElementAnimationType.registerEnum('BL.UI.ElementAnimationType',false);BL.UI.ElementAnimationEndBehavior=function(){};BL.UI.ElementAnimationEndBehavior.prototype = {resetToPosition:0,hideAndResetToPosition:1,leaveInPlace:2}
BL.UI.ElementAnimationEndBehavior.registerEnum('BL.UI.ElementAnimationEndBehavior',false);BL.UI.ElementBehavior=function(){};BL.UI.ElementBehavior.prototype = {none:0,dragHorizontal:1,dragVertical:2,drag2D:3}
BL.UI.ElementBehavior.registerEnum('BL.UI.ElementBehavior',false);BL.UI.TemplateParserMode=function(){};BL.UI.TemplateParserMode.prototype = {normal:0,items:1}
BL.UI.TemplateParserMode.registerEnum('BL.UI.TemplateParserMode',false);BL.UI.IControlFactory=function(){};BL.UI.IControlFactory.registerInterface('BL.UI.IControlFactory');BL.UI.Dialog=function(){BL.UI.Dialog.initializeBase(this);}
BL.UI.Dialog.prototype={e_titleText:null,$1_44:false,$1_45:0,$1_46:0,$1_47:null,$1_48:null,$1_49:null,$1_4A:null,$1_4B:null,$1_4C:null,$1_4D:30,$1_4E:30,get_title:function(){return this.$1_4A;},set_title:function(value){this.$1_4A=value;this.$1_50();return value;},get_horizontalPadding:function(){return this.$1_4D;},set_horizontalPadding:function(value){this.$1_4D=value;return value;},get_verticalPadding:function(){return this.$1_4E;},set_verticalPadding:function(value){this.$1_4E=value;return value;},get_maxWidth:function(){return this.$1_4B;},set_maxWidth:function(value){this.$1_4B=value;return value;},get_maxHeight:function(){return this.$1_4C;},set_maxHeight:function(value){this.$1_4C=value;return value;},e_closeButton:null,e_panel:null,onApplyTemplate:function(){BL.UI.Dialog.callBaseMethod(this, 'onApplyTemplate');this.e_closeButton.addEventListener('mouseup',ss.Delegate.create(this,this.$1_4F),true);},$1_4F:function($p0){this.hide();},show:function(){if(this.get_element()==null){this.ensureElements();}if(this.get_content()!=null){this.get_content().ensureElements();if(Type.canCast(this.get_content(),BL.UI.IDialogManager)){(this.get_content()).set_parentDialog(this);}}this.$1_44=true;this.$1_47=document.body.style.overflow;this.$1_48=document.body.style.overflowX;this.$1_49=document.body.style.overflowY;document.body.style.overflowX='hidden';document.body.style.overflowY='hidden';var $0=this.get_element().style;$0.position='absolute';$0.zIndex=254;$0.top=window.pageYOffset+'px';$0.left='0px';$0.width=window.innerWidth+'px';$0.height=window.innerHeight+'px';var $1=this.e_panel.style;$1.position='absolute';$1.zIndex=255;var $2=(window.innerWidth-(this.$1_4D*2));var $3=(window.innerHeight-(this.$1_4E*2));if(this.$1_4B!=null){$2=this.$1_4B;if($2>window.innerWidth){$2=window.innerWidth-20;}}if(this.$1_4C!=null){$3=this.$1_4C;if($3>window.innerHeight){$3=window.innerHeight-20;}}$1.left=((window.innerWidth-$2)/2)+'px';$1.top=((window.innerHeight-$3)/2)+'px';$1.width=$2+'px';$1.height=$3+'px';this.$1_50();document.body.appendChild(this.get_element());},$1_50:function(){if(this.e_titleText==null){return;}if(String.isNullOrEmpty(this.$1_4A)){BL.UI.ElementUtilities.setText(this.e_titleText,'');}else{BL.UI.ElementUtilities.setText(this.e_titleText,this.$1_4A);}},hide:function(){this.$1_44=false;document.body.style.overflowX=this.$1_48;document.body.style.overflowY=this.$1_49;document.body.style.overflow=this.$1_47;document.body.removeChild(this.get_element());}}
BL.UI.SlotItemsControl=function(){BL.UI.SlotItemsControl.initializeBase(this);}
BL.UI.SlotItemsControl.prototype={e_item0:null,e_item1:null,e_item2:null,e_item3:null,e_item4:null,e_item5:null,e_item6:null,e_item7:null,e_item8:null,e_item9:null,e_item10:null,e_item11:null,e_item12:null,e_item13:null,e_item14:null,e_item15:null,e_item16:null,e_item17:null,e_item18:null,e_item19:null,e_item20:null,get_itemsContainerElement:function(){return null;},set_itemsContainerElement:function(value){return value;},onUpdate:function(){},onApplyTemplate:function(){BL.UI.SlotItemsControl.callBaseMethod(this, 'onApplyTemplate');this.$1_47();},$1_47:function(){this.$1_48(this.e_item0,0);this.$1_48(this.e_item1,1);this.$1_48(this.e_item2,2);this.$1_48(this.e_item3,3);this.$1_48(this.e_item4,4);this.$1_48(this.e_item5,5);this.$1_48(this.e_item6,6);this.$1_48(this.e_item7,7);this.$1_48(this.e_item8,8);this.$1_48(this.e_item9,9);},$1_48:function($p0,$p1){if($p0!=null&&this.get_itemControls().length>$p1){var $0=this.get_itemControls()[$p1];$0.ensureElements();if($0.get_element().parentNode!==$p0){if($0.get_element().parentNode!=null){$0.get_element().parentNode.removeChild($0.get_element());}$p0.appendChild($0.get_element());}}}}
BL.UI.OpacityAnimator=function(){}
BL.UI.OpacityAnimator.prototype={$0:null,$1:null,$2:null,to:null,$3:null,$4:0,$5:0,$6:false,$7:null,add_opacityChangeComplete:function(value){this.$8=ss.Delegate.combine(this.$8,value);},remove_opacityChangeComplete:function(value){this.$8=ss.Delegate.remove(this.$8,value);},$8:null,get_element:function(){return this.$1;},set_element:function(value){this.$1=value;return value;},get_elements:function(){if(this.$2==null){this.$2=[];}return this.$2;},get_from:function(){return this.$0;},set_from:function(value){this.$0=value;return value;},get_to:function(){return this.to;},set_to:function(value){this.to=value;return value;},cancel:function(setToEndValues){this.$6=true;if(setToEndValues){this.$A();}},startAfter:function(delay,length,callback,state){this.$4=length;this.$3=Date.empty;this.$5=delay;this.$6=false;this.$7=new BL.Operation();if(callback!=null){this.$7.addCallback(callback,state);}BL.UI.ElementUtilities.animateOnNextFrame(ss.Delegate.create(this,this.$9));},start:function(length,callback,state){this.$4=length;this.$3=Date.empty;this.$6=false;this.$7=new BL.Operation();if(callback!=null){this.$7.addCallback(callback,state);}BL.UI.ElementUtilities.animateOnNextFrame(ss.Delegate.create(this,this.$9));},$9:function(){var $0=Date.get_now();if(this.$3===Date.empty){this.$3=$0;}if(this.$6){return;}var $1=($0.getTime()-this.$3.getTime());if($1<this.$5){BL.UI.ElementUtilities.animateOnNextFrame(ss.Delegate.create(this,this.$9));return;}$1-=this.$5;var $2=BL.Extern.Easing.easeInQuad($1,0,1,this.$4);if($2<1){if(this.$0!=null&&this.to!=null){if(this.$6){return;}if(this.get_element()!=null){this.get_element().style.opacity=(this.$0+((this.to-this.$0)*$2)).toString();}if(this.$2!=null){var $enum1=ss.IEnumerator.getEnumerator(this.$2);while($enum1.moveNext()){var $3=$enum1.current;$3.style.opacity=(this.$0+((this.to-this.$0)*$2)).toString();}}}BL.UI.ElementUtilities.animateOnNextFrame(ss.Delegate.create(this,this.$9));}else{if(this.to!=null){if(this.$6){return;}this.$A();}this.$7.completeAsAsyncDone(this);this.$7=null;if(this.$8!=null){this.$8(this,ss.EventArgs.Empty);}}},$A:function(){if(this.get_element()!=null){this.get_element().style.opacity=this.to.toString();}if(this.$2!=null){var $enum1=ss.IEnumerator.getEnumerator(this.$2);while($enum1.moveNext()){var $0=$enum1.current;$0.style.opacity=this.to.toString();}}}}
BL.UI.ScrollAnimator=function(){}
BL.UI.ScrollAnimator.prototype={$0:null,$1:null,$2:null,$3:null,$4:null,$5:0,$6:null,add_scrollingComplete:function(value){this.$7=ss.Delegate.combine(this.$7,value);},remove_scrollingComplete:function(value){this.$7=ss.Delegate.remove(this.$7,value);},$7:null,get_fromY:function(){return this.$0;},set_fromY:function(value){this.$0=value;return value;},get_toY:function(){return this.$1;},set_toY:function(value){this.$1=value;return value;},get_fromX:function(){return this.$2;},set_fromX:function(value){this.$2=value;return value;},get_toX:function(){return this.$3;},set_toX:function(value){this.$3=value;return value;},start:function(length,callback,state){this.$5=length;this.$4=Date.empty;this.$6=new BL.Operation();if(callback!=null){this.$6.addCallback(callback,state);}BL.UI.ElementUtilities.animateOnNextFrame(ss.Delegate.create(this,this.$8));},$8:function(){var $0=Date.get_now();if(this.$4===Date.empty){this.$4=$0;}var $1=$0.getTime()-this.$4.getTime();var $2=BL.Extern.Easing.easeInQuad($1,0,1,this.$5);if($2<1){if(this.$0!=null&&this.$1!=null){window.scroll(window.pageXOffset,(this.$0+((this.$1-this.$0)*$2)));}BL.UI.ElementUtilities.animateOnNextFrame(ss.Delegate.create(this,this.$8));}else{if(this.$1!=null){window.scroll(window.pageXOffset,this.$1);}this.$6.completeAsAsyncDone(this);this.$6=null;if(this.$7!=null){this.$7(this,ss.EventArgs.Empty);}}}}
BL.UI.ElementEffects=function(){this.$29=0;this.$2A=0;this.element=this.element;this.$2D=ss.Delegate.create(this,this.$35);this.$2E=ss.Delegate.create(this,this.startMoveContinue);this.$2F=ss.Delegate.create(this,this.endMoveContinue);}
BL.UI.ElementEffects.removeAnimationList=function(mover){BL.UI.ElementEffects.$1D.remove(mover);if(!BL.UI.ElementEffects.$1D.length){BL.UI.ElementEffects.$1D=null;}}
BL.UI.ElementEffects.addToAnimationList=function(mover){var $0=false;if(BL.UI.ElementEffects.$1D==null){BL.UI.ElementEffects.$1D=[];BL.UI.ElementEffects.$1E=false;$0=true;}BL.UI.ElementEffects.$1D.add(mover);if($0){BL.UI.ElementEffects.animationTick();}}
BL.UI.ElementEffects.animationTick=function(){if(BL.UI.ElementEffects.$1D==null){return;}if(!BL.UI.ElementEffects.$1E){BL.UI.ElementEffects.$1E=true;var $enum1=ss.IEnumerator.getEnumerator(BL.UI.ElementEffects.$1D);while($enum1.moveNext()){var $0=$enum1.current;$0.updateAnimation();}BL.UI.ElementEffects.$1E=false;}if (window.requestAnimationFrame) {{window.requestAnimationFrame(BL.UI.ElementEffects.animationTick);}}else{{window.setTimeout(BL.UI.ElementEffects.animationTick, 20);}};}
BL.UI.ElementEffects.prototype={parentElement:null,element:null,$0:null,$1:null,$2:0,$3:0,$4:0,$5:0,$6:null,$7:null,$8:null,$9:null,$A:null,$B:null,$C:0,$D:0,$E:0,$F:0,$10:0,$11:0,$12:0,$13:0,$14:0,$15:null,$16:null,$17:false,$18:false,$19:false,$1A:false,$1B:0,$1C:0,add_animationComplete:function(value){this.$1F=ss.Delegate.combine(this.$1F,value);},remove_animationComplete:function(value){this.$1F=ss.Delegate.remove(this.$1F,value);},$1F:null,$20:null,$21:null,add_dragPreStart:function(value){this.$22=ss.Delegate.combine(this.$22,value);},remove_dragPreStart:function(value){this.$22=ss.Delegate.remove(this.$22,value);},$22:null,add_dragComplete:function(value){this.$23=ss.Delegate.combine(this.$23,value);},remove_dragComplete:function(value){this.$23=ss.Delegate.remove(this.$23,value);},$23:null,add_dragStart:function(value){this.$24=ss.Delegate.combine(this.$24,value);},remove_dragStart:function(value){this.$24=ss.Delegate.remove(this.$24,value);},$24:null,add_dragMoved:function(value){this.$25=ss.Delegate.combine(this.$25,value);},remove_dragMoved:function(value){this.$25=ss.Delegate.remove(this.$25,value);},$25:null,$26:null,$27:null,$28:null,$2B:false,$2C:null,$2D:null,$2E:null,$2F:null,$30:null,get_control:function(){return this.$2C;},set_control:function(value){this.$2C=value;return value;},get_behavior:function(){return this.$2A;},set_behavior:function(value){if(this.$2A===value){return;}this.$2A=value;this.applyBehavior();return value;},get_originLeft:function(){return this.$D;},set_originLeft:function(value){this.$D=value;return value;},get_originTop:function(){return this.$E;},set_originTop:function(value){this.$E=value;return value;},get_left:function(){return this.$2;},set_left:function(value){if(this.$2===value){return;}this.$2=value;if(!this.$2B){this.$2B=true;if (window.requestAnimationFrame) {window.requestAnimationFrame(this.$2D);}else{window.setTimeout(this.$2D, 20);};}return value;},get_top:function(){return this.$3;},set_top:function(value){if(this.$3===value){return;}this.$3=value;if(!this.$2B){this.$2B=true;if (window.requestAnimationFrame) {window.requestAnimationFrame(this.$2D);}else{window.setTimeout(this.$2D, 20);};}return value;},get_height:function(){return this.$5;},get_width:function(){return this.$4;},get_effectiveWidth:function(){if(this.$15!=null){return this.$15;}return this.$4;},get_overrideWidth:function(){return this.$15;},set_overrideWidth:function(value){this.$15=value;return value;},get_overrideHeight:function(){return this.$16;},set_overrideHeight:function(value){this.$16=value;return value;},get_element:function(){return this.element;},set_element:function(value){this.element=value;this.applyBehavior();return value;},setLeftImmediate:function(left){this.$2=left;this.$35();},applyBehavior:function(){if(this.element==null){return;}if(this.$2A===1||this.$2A===2||this.$2A===3){this.element.setAttribute('unselectable','on');this.element.style.userSelect="none";if(BL.Context.get_current().get_isTouchOnly()){this.element.addEventListener('touchstart',ss.Delegate.create(this,this.$31),true);this.element.addEventListener('touchend',ss.Delegate.create(this,this.$32),true);}else{this.element.addEventListener('mousedown',ss.Delegate.create(this,this.$31),true);this.element.addEventListener('mouseup',ss.Delegate.create(this,this.$32),true);this.element.addEventListener('dragstart',ss.Delegate.create(this,this.$33),true);}}},$31:function($p0){this.$1A=true;this.$13=BL.UI.ElementUtilities.getPageX($p0);this.$14=BL.UI.ElementUtilities.getPageY($p0);
 if (window.getSelection().empty) { window.getSelection().empty(); }
;this.$30=$p0;window.setTimeout(ss.Delegate.create(this,this.$39),200);if(this.$22!=null){var $0=new BL.PointAndStartElementEventArgs(this.$13,this.$14,0,0,this.get_element());this.$22(this,$0);}},$32:function($p0){this.$1A=false;this.$38();},$33:function($p0){$p0.cancelBubble=true;$p0.preventDefault();$p0.stopPropagation();},$34:function($p0){if(this.$2A===1||this.$2A===3){this.set_left(this.$1B+(BL.UI.ElementUtilities.getPageX($p0)-this.$13));}if(this.$2A===2||this.$2A===3){this.set_top(this.$1C+(BL.UI.ElementUtilities.getPageY($p0)-this.$14));}if(this.$25!=null){var $0=new BL.PointAndStartElementEventArgs(this.$F,this.$10,this.get_left(),this.get_top(),this.element);this.$25(this,$0);}$p0.preventDefault();$p0.cancelBubble=true;},$35:function(){this.element.style.left=this.$2+'px';this.element.style.top=this.$3+'px';this.$2B=false;},$36:function($p0){if($p0.toElement==null||$p0.toElement.nodeName==='HTML'){this.$38();}$p0.cancelBubble=true;},$37:function($p0){this.$38();$p0.cancelBubble=true;},$38:function(){if(!this.$18){return;}this.$18=false;
  document.onselectstart = null;
  document.onmousedown = null;if(this.$23!=null){var $0=new BL.PointAndStartElementEventArgs(this.$F,this.$10,this.get_left(),this.get_top(),this.element);this.$23(this,$0);}document.body.removeEventListener('mousemove',this.$26,true);document.body.removeEventListener('mouseup',this.$27,true);document.body.removeEventListener('mouseout',this.$28,true);},$39:function(){if(!this.$1A||!this.$2A){return;}this.$1B=this.get_left();this.$1C=this.get_top();
 if (window.getSelection().empty) { window.getSelection().empty(); }

  document.onselectstart = function() {return false;}
  document.onmousedown = function() {return false;};this.startMove();if(this.$24!=null){var $0=new BL.PointAndStartElementEventArgs(this.$F,this.$10,this.get_left(),this.get_top(),this.element);this.$24(this,$0);}this.$34(this.$30);this.$18=true;this.$26=ss.Delegate.create(this,this.$34);this.$27=ss.Delegate.create(this,this.$37);this.$28=ss.Delegate.create(this,this.$36);if(BL.Context.get_current().get_isTouchOnly()){document.body.addEventListener('touchmove',this.$26,true);document.body.addEventListener('touchend',this.$27,true);}else{document.body.addEventListener('mousemove',this.$26,true);document.body.addEventListener('mouseup',this.$27,true);document.body.addEventListener('mouseout',ss.Delegate.create(this,this.$36),true);}},startMove:function(){if(this.$17){return;}this.$17=true;var $0=this.element.style;this.$9=$0.height;this.$6=$0.left;this.$7=$0.top;this.$8=$0.width;this.$A=$0.position;this.$20=BL.UI.ElementUtilities.getBoundingRect(this.element);this.parentElement=this.element.parentNode;this.$21=BL.UI.ElementUtilities.getBoundingRect(this.parentElement);this.$1=null;var $1=this.parentElement.childNodes.length;for(var $3=0;$3<$1;$3++){var $4=this.parentElement.childNodes[$3];if($4===this.element&&$3<$1-1){this.$1=this.parentElement.childNodes[$3+1];}}this.$0=document.createElement('DIV');this.$0.innerHTML='&#160;';this.$0.style.width=(this.$20.right-this.$20.left)+'px';this.$0.style.height=((this.$20.bottom-this.$20.top)+4)+'px';var $2=BL.UI.ElementUtilities.getBoundingRect(this.parentElement);this.$D=$2.left+window.pageXOffset;this.$E=$2.top+window.pageYOffset;this.startMoveContinue();},startMoveContinue:function(){var $0=this.element.style;this.parentElement.removeChild(this.element);this.parentElement.insertBefore(this.$0,this.$1);var $1=BL.UI.ElementUtilities.getBoundingRect(this.parentElement);this.$2=$1.left+window.pageXOffset;this.$3=$1.top+window.pageYOffset;$0.left=this.$2+'px';$0.top=this.$3+'px';$0.position='absolute';this.$4=(this.$20.right-this.$20.left);this.$5=(this.$20.bottom-this.$20.top);if(this.$15!=null&&this.$15>0){$0.width=(this.$15)+'px';}else{$0.width=this.$4+'px';}if(this.$16!=null&&this.$16>0){$0.height=(this.$16)+'px';}else{$0.height=this.$5+'px';}$0.zIndex=255;document.body.appendChild(this.element);},animate:function(animationType,endBehavior,millisecondsLength){this.$29=endBehavior;this.$19=true;var $0=this.$17;this.startMove();if($0){this.$10=this.get_top();this.$F=this.get_left();}switch(animationType){case 1:this.$10=this.get_originTop();if(!$0){this.$F=-this.get_effectiveWidth();}this.$12=this.get_originTop();this.$11=this.get_originLeft();break;case 3:if(!$0){this.$10=this.get_originTop();this.$F=document.body.offsetWidth;}this.$12=this.get_originTop();this.$11=this.get_originLeft();break;case 0:if(!$0){this.$10=this.get_originTop();this.$F=this.get_originLeft();}this.$12=this.get_originTop();this.$11=-this.get_effectiveWidth();break;case 2:if(!$0){this.$10=this.get_originTop();this.$F=this.get_originLeft();}this.$12=this.get_originTop();this.$11=document.body.offsetWidth;break;}this.$B=Date.get_now();this.$C=millisecondsLength;BL.UI.ElementEffects.addToAnimationList(this);},$3A:function(){this.$19=false;BL.UI.ElementEffects.removeAnimationList(this);if(!this.$29){this.endMove();}else if(this.$29===1){if(this.get_control()!=null){this.get_control().set_b_visible(false);}else{this.element.style.display='none';}this.endMove();}if(this.$1F!=null){this.$1F(this,ss.EventArgs.Empty);}},updateAnimation:function(){if(!this.$19){return;}var $0=Date.get_now();var $1=$0.getTime()-this.$B.getTime();var $2=$1/this.$C;if($2>=1){this.$3A();}else{var $3=this.$F+((this.$11-this.$F)*$2);var $4=this.$10+((this.$12-this.$10)*$2);if(!this.$19){return;}this.set_left($3);this.set_top($4);}},endMove:function(){if(!this.$17){return;}this.$17=false;if(this.$19){this.$3A();}var $0=this.element.style;$0.left=this.$6;$0.top=this.$7;$0.width=this.$8;$0.height=this.$9;$0.position=this.$A;this.$15=null;this.$16=null;this.$2=0;this.$3=0;if (window.requestAnimationFrame) {window.requestAnimationFrame(this.$2F);}else{window.setTimeout(this.$2F, 1);};},endMoveContinue:function(){document.body.removeChild(this.element);this.parentElement.insertBefore(this.element,this.$0);this.parentElement.removeChild(this.$0);}}
BL.UI.ContentItem=function(){}
BL.UI.ContentItem.prototype={iconImage:null,mainImage:null,id:null,content:null,title:null,url:null,videoUrl:null,templateId:null,data:null,updateTime:null}
BL.UI.ContentItemSet=function(){this.items=[];}
BL.UI.ContentItemSet.prototype={items:null}
BL.UI.ControlManager=function(){this.$0={};}
BL.UI.ControlManager.get_current=function(){return BL.UI.ControlManager.$1;}
BL.UI.ControlManager.prototype={$0:null,create:function(fullControlName){var $0=null;if($0==null){$0=eval('new '+fullControlName+'()');}return $0;},createControlFromFullName:function(fullName){var $0=fullName.lastIndexOf('.');if($0<0){return null;}var $1=fullName.substring(0,$0);var $2=fullName.substring($0+1,fullName.length);return this.createControl($1,$2);},createControl:function(controlNamespace,controlName){controlNamespace=controlNamespace.toLowerCase();controlName=controlName.toLowerCase();if(Object.keyExists(this.$0,controlNamespace)){var $0=this.$0[controlNamespace];return $0.createControl(controlName);}return null;},register:function(factory){this.$0[factory.get_namespace()]=factory;}}
BL.UI.BaseControlFactory=function(){}
BL.UI.BaseControlFactory.prototype={get_namespace:function(){return 'BL.UI';},createControl:function(controlName){switch(controlName){case 'literalcontrol':return new BL.UI.LiteralControl();}return null;}}
BL.UI.DebugPanel=function(){BL.UI.DebugPanel.initializeBase(this);this.$1_41=new BL.UI.ContentItemSet();BL.Log.add_itemAdded(ss.Delegate.create(this,this.$1_45));this.set_trackResizeEvents(true);}
BL.UI.DebugPanel.prototype={c_logList:null,$1_40:0,$1_41:null,e_collapse:null,$1_42:true,add_toggled:function(value){this.$1_43=ss.Delegate.combine(this.$1_43,value);},remove_toggled:function(value){this.$1_43=ss.Delegate.remove(this.$1_43,value);},$1_43:null,get_isExpanded:function(){return this.$1_42;},set_isExpanded:function(value){this.$1_42=value;if(this.$1_42===value){this.get_element().style.posWidth=280;}else{this.get_element().style.posWidth=0;}if(this.$1_43!=null){this.$1_43(this,ss.EventArgs.Empty);}return value;},onInit:function(){BL.UI.DebugPanel.callBaseMethod(this, 'onInit');window.addEventListener('resize',ss.Delegate.create(this,this.$1_44),true);},$1_44:function($p0){this.onResize();},onResize:function(){BL.UI.DebugPanel.callBaseMethod(this, 'onResize');this.c_logList.get_element().style.height=window.innerHeight+'px';this.e_collapse.style.posLeft=window.innerWidth-30;},$1_45:function($p0,$p1){var $0=new BL.UI.ContentItem();$0.id=this.$1_40.toString();$0.title=$p1.get_item().get_message();this.$1_41.items.insert(0,$0);this.$1_40++;if(this.c_logList!=null){this.c_logList.notifyItemUpdated($0);}},onApplyTemplate:function(){BL.UI.DebugPanel.callBaseMethod(this, 'onApplyTemplate');if(this.c_logList!=null){this.c_logList.set_listItems(this.$1_41);}if(this.e_collapse!=null){this.e_collapse.addEventListener('click',ss.Delegate.create(this,this.$1_46),true);}},$1_46:function($p0){this.set_isExpanded(!this.get_isExpanded());},onUpdate:function(){BL.UI.DebugPanel.callBaseMethod(this, 'onUpdate');}}
Facer=function(){}
Facer.attachToElements=function(){var $0=document.body.querySelectorAll('div[data-bl-type]');Facer.$0($0);}
Facer.$0=function($p0){for(var $0=0;$0<$p0.length;$0++){var $1=$p0[$0];var $2=$1.attributes.getNamedItem('data-bl-type');if($2!=null){if(!String.isNullOrEmpty($2.value)){var $3=BL.UI.ControlManager.get_current().create($2.value);if($3!=null){$3.attachToElement($1);}}}}}
BL.UI.ContentControl=function(){BL.UI.ContentControl.initializeBase(this);}
BL.UI.ContentControl.prototype={$1_40:null,$1_41:null,get_contentContainerElement:function(){if(this.$1_40==null){return this.get_element();}return this.$1_40;},set_contentContainerElement:function(value){if(this.$1_40===value){return;}this.$1_40=value;this.$1_42(this.$1_41);return value;},get_content:function(){return this.$1_41;},set_content:function(value){this.$1_41=value;this.$1_42(this.$1_41);return value;},dispose:function(){if(this.$1_41!=null){this.$1_41.dispose();}BL.UI.ContentControl.callBaseMethod(this, 'dispose');},$1_27:function(){BL.UI.ContentControl.callBaseMethod(this, '$1_27');if(this.$1_41!=null){this.$1_41.$1_27();}},$1_42:function($p0){this.$1_43(-1,$p0);},$1_43:function($p0,$p1){var $0=this.get_contentContainerElement();if(this.$1_41==null||$0==null){return;}var $1=false;var $2=null;if($p1.get_element()==null){var $3=$p1.get_tagName();if($3==null){$3='DIV';}$2=document.createElement($3);$1=true;}else{$p1.ensureElements();$2=$p1.get_element();}if($2.parentNode!==$0){if($p0<0||$p0>=$0.children.length){$0.appendChild($2);}else{$0.insertBefore($2,$0.children[$p0]);}}if($1){$p1.set_element($2);}}}
BL.UI.ListItem=function(){BL.UI.ListItem.initializeBase(this);}
BL.UI.ListItem.prototype={$1_40:null,e_title:null,e_content:null,e_image:null,get_defaultClass:function(){return 'row';},get_item:function(){return this.$1_40;},set_item:function(value){this.$1_40=value;if(this.$1_40.templateId!=null){this.set_s_templateId(this.$1_40.templateId);}this.update();return value;},onUpdate:function(){BL.UI.ListItem.callBaseMethod(this, 'onUpdate');if(this.$1_40==null){return;}if(this.e_title!=null){BL.UI.ElementUtilities.setText(this.e_title,this.$1_40.title);}if(this.e_content!=null){BL.UI.ElementUtilities.setText(this.e_content,this.$1_40.content);}if(this.e_image!=null){if(this.$1_40.mainImage==null){this.e_image.style.display='none';}else{this.e_image.style.display='block';this.e_image.src=this.$1_40.mainImage;}}}}
BL.UI.List=function(){BL.UI.List.initializeBase(this);this.$1_48={};}
BL.UI.List.prototype={$1_47:null,$1_48:null,get_listItems:function(){return this.$1_47;},set_listItems:function(value){this.$1_47=value;this.update();return value;},onUpdate:function(){if(this.get_listItems()!=null){var $enum1=ss.IEnumerator.getEnumerator(this.get_listItems().items);while($enum1.moveNext()){var $0=$enum1.current;this.notifyItemUpdated($0);}}},$1_49:function($p0){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.$1_47.items);while($enum1.moveNext()){var $1=$enum1.current;if($1===$p0){return $0;}$0++;}return $0;},notifyItemUpdated:function(ci){var $0=this.$1_48[ci.id];if($0==null){$0=new BL.UI.ListItem();var $1=this.$1_49(ci);if(ci.templateId!=null){$0.set_s_templateId(ci.templateId);}$0.set_item(ci);this.$1_48[ci.id]=$0;this.insertItemControl($1,$0);}}}
BL.UI.Template=function(){}
BL.UI.Template.prototype={id:null,content:null}
BL.UI.TemplateFile=function(templateManager){this.tm=templateManager;}
BL.UI.TemplateFile.prototype={$0:null,tm:null,$1:null,$2:false,get_fileName:function(){return this.$1;},set_fileName:function(value){this.$1=value;return value;},get_isLoaded:function(){return this.$2;},set_isLoaded:function(value){this.$2=value;return value;},get_operation:function(){return this.$0;},ensureRetrieving:function(id,callback,state){var $0=false;if(this.$0==null){this.$0=new BL.Operation();$0=true;}this.$0.get_callbackStates().add(BL.CallbackState.wrapWithTag(callback,state,id));if($0){$.getJSON(BL.UI.TemplateFile.rootTemplatePath+this.$1+'.t.json',ss.Delegate.create(this,this.$3));}},$3:function($p0){if($p0==null){return;}else{var $1=$p0;this.tm.addTemplates($1);this.set_isLoaded(true);}var $0=this.$0;if($0!=null){this.$0=null;var $enum1=ss.IEnumerator.getEnumerator($0.get_callbackStates());while($enum1.moveNext()){var $2=$enum1.current;var $3=new BL.CallbackResult();$3.set_data(this.tm.get_templates()[$2.get_tag()]);$3.set_isCompleted(true);$2.get_callback()($3);}}}}
BL.UI.TemplateManager=function(){this.$1={};this.$2={};this.$3={};}
BL.UI.TemplateManager.get_current=function(){if(BL.UI.TemplateManager.$0==null){BL.UI.TemplateManager.$0=new BL.UI.TemplateManager();}return BL.UI.TemplateManager.$0;}
BL.UI.TemplateManager.prototype={$1:null,$2:null,$3:null,get_templates:function(){return this.$1;},get_templateFiles:function(){return this.$2;},addTemplateOverride:function(from,to){this.$3[from.toLowerCase()]=to.toLowerCase();},addTemplateFile:function(fileName,templates){var $0=null;if(this.$2[fileName]==null){$0=new BL.UI.TemplateFile(this);fileName=fileName.toLowerCase();$0.set_fileName(fileName);$0.set_isLoaded(true);this.$2[fileName]=$0;}var $enum1=ss.IEnumerator.getEnumerator(templates);while($enum1.moveNext()){var $1=$enum1.current;this.$1[$1.id.toLowerCase()]=$1;}},addTemplates:function(templates){var $enum1=ss.IEnumerator.getEnumerator(templates);while($enum1.moveNext()){var $0=$enum1.current;this.$1[$0.id.toLowerCase()]=$0;}},getTemplateAsync:function(id,ac,state){id=id.toLowerCase();var $0=this.$3[id];if($0!=null){id=$0;}if(this.$1[id]!=null){var $3=new BL.CallbackResult();$3.set_asyncState(state);$3.set_data(this.$1[id]);$3.set_completedSynchronously(true);$3.set_isCompleted(true);ac($3);return;}id=id.replaceAll('.','-');var $1=id.lastIndexOf('-');if($1>=0){var $4=id.substring(0,$1).replaceAll('-','.').toLowerCase();if(Object.keyExists(this.$2,$4)){var $5=this.$2[$4];if($5.get_isLoaded()){var $6=new BL.CallbackResult();$6.set_asyncState(state);$6.set_data(this.$1[id]);$6.set_completedSynchronously(true);$6.set_isCompleted(true);ac($6);return;}else{$5.ensureRetrieving(id,ac,state);return;}}else{var $7=new BL.UI.TemplateFile(this);$7.set_fileName($4);this.$2[$4]=$7;$7.ensureRetrieving(id,ac,state);return;}}var $2=new BL.CallbackResult();$2.set_asyncState(null);$2.set_completedSynchronously(true);$2.set_isCompleted(false);ac($2);}}
BL.UI.TemplateParserResult=function(){this.$2=[];this.$1=[];this.$3=[];this.$6=[];this.$7=[];}
BL.UI.TemplateParserResult.prototype={$0:null,$1:null,$2:null,$3:null,$4:null,$5:null,$6:null,$7:null,get_itemsContainer:function(){return this.$4;},set_itemsContainer:function(value){this.$4=value;return value;},get_contentContainer:function(){return this.$5;},set_contentContainer:function(value){this.$5=value;return value;},get_markup:function(){return this.$0;},set_markup:function(value){this.$0=value;return value;},get_elementElementPaths:function(){return this.$6;},get_elementIds:function(){return this.$7;},get_controlElementPaths:function(){return this.$1;},get_controlIds:function(){return this.$3;},get_controls:function(){return this.$2;},addElement:function(elementPath,id){this.$6.add(elementPath);this.$7.add(id);},addControl:function(c,elementPath,id){this.$2.add(c);this.$1.add(elementPath);this.$3.add(id);}}
BL.UI.TemplateParser=function(){}
BL.UI.TemplateParser.prototype={parse:function(parentId,templateCssPrefix,markup){var $0=0;var $1=0;var $2=[];var $3=new ss.StringBuilder();var $4=0;var $5=0;var $6=[];var $7=[];var $8=null;var $9=templateCssPrefix.replaceAll('.','-').toLowerCase();$2[0]=-1;var $A=[];var $B=[];var $C=new BL.UI.TemplateParserResult();var $D=markup.indexOf('<');while($D>=0){$3.append(markup.substring($4,$D));var $E=markup.indexOf('>',$D+1);if($E>$D){$2[$0]++;if(markup.charAt($D+1)==='/'){$0--;if($2.length>=$0){$2.removeAt($2.length-1);}if($A.length>0&&$B[$B.length-1]>=$0){$B.removeAt($B.length-1);$A.removeAt($A.length-1);}var $F=markup.substring($D+2,$E);if($F.indexOf('.')>=0||$F==='Items'||$F==='Content'){var $10=$7[$7.length-1];$7.removeAt($7.length-1);if($10==null){$10='div';}if($5<=0){$3.append('</'+$10+'>');}}else if($5<=0){$3.append('</'+$F+'>');}$4=$E+1;$D=markup.indexOf('<',$4);if($1>0&&$F==='Items'){if(Type.canCast($8,BL.UI.ItemsControl)){var $enum1=ss.IEnumerator.getEnumerator($6[$1-1]);while($enum1.moveNext()){var $13=$enum1.current;($8).addItemControl($13);}}var $11=$A.length-1;var $12=$8;do{$8=$A[$11];$11--;}while($11>=0&&!((Type.canCast($8,BL.UI.ItemsControl)||Type.canCast($8,BL.UI.ContentControl))&&$8!==$12));$1--;$5--;}else if($1>0&&$F==='Content'){if(Type.canCast($8,BL.UI.ContentControl)){var $enum2=ss.IEnumerator.getEnumerator($6[$1-1]);while($enum2.moveNext()){var $16=$enum2.current;($8).set_content($16);}}var $14=$A.length-1;var $15=$8;do{$8=$A[$14];$14--;}while($14>=0&&!((Type.canCast($8,BL.UI.ItemsControl)||Type.canCast($8,BL.UI.ContentControl))&&$8!==$15));$1--;$5--;}}else{var $17=null;var $18=null;var $19=null;var $1A=null;var $1B=(markup.charAt($E-1)==='/');var $1C=markup.indexOf(' ',$D);if($1C<$E&&$1C>$D){$17=markup.substring($D+1,$1C);$18=markup.substring($1C+1,$E);$19=this.$0($18);if(Object.keyExists($19,'id')){$1A=$19['id'];}}else{if($1B){$17=markup.substring($D+1,$E-1);}else{$17=markup.substring($D+1,$E);}}var $1D=$17.lastIndexOf('.');if($1D>=0){var $1E=BL.UI.ControlManager.get_current().create($17);if($1E!=null){if($19!=null){this.$1($1E,$19);}$A.add($1E);$B.add($0);if($1A!=null){$1E.set_s_id(parentId+'-'+$1A);}if($1>0){$6[$1-1].add($1E);if($1A!=null){$C.addControl($1E,null,$1A);}}else{$17=$1E.get_tagName();if($17==null){$17='div';}if($5<=0){$3.append('<'+$17);}$C.addControl($1E,$2.clone(),$1A);}}else{}}else if($17==='Items'){if($A.length>0){$6[$1]=[];$1++;$8=$A[$A.length-1];}$5++;}else if($17==='Content'){if($A.length>0){$6[$1]=[];$1++;$8=$A[$A.length-1];}$5++;}else{if($1A!=null){$C.addElement($2.clone(),$1A);}if($17==='ItemsContainer'){$C.set_itemsContainer($2.clone());$17='div';}else if($17==='ContentContainer'){$C.set_contentContainer($2.clone());$17='div';}if($5<=0){$3.append('<'+$17);}}if($19!=null&&$5<=0){var $1F=$19['class'];var $20=$19['data-ctl-class'];if($1F==null){$1F='';}if($1A!=null){if($1F.length>0){$1F+=' ';}$1F+=$9+'-'+$1A;}if($20!=null){var $21=$20.split(' ');var $enum3=ss.IEnumerator.getEnumerator($21);while($enum3.moveNext()){var $22=$enum3.current;if($1F.length>0){$1F+=' ';}$1F+=$9+'-'+$22;}}if($1F.length>0){$3.append(' class="'+$1F+'"');}var $dict4=$19;for(var $key5 in $dict4){var $23={key:$key5,value:$dict4[$key5]};if($23.key!=='id'&&$23.key!=='class'&&$23.key!=='data-ctl-class'){if($23.key==='src'){$3.append(String.format(' {0}="{1}"',$23.key,BL.Context.get_current().get_resourceBasePath()+$23.value));}else{$3.append(String.format(' {0}="{1}"',$23.key,$23.value));}}}}if($1B){if($A.length>0&&$B[$B.length-1]>=$0){$B.removeAt($B.length-1);$A.removeAt($A.length-1);}if($5<=0){$3.append(String.format('></{0}>',$17));}}else{if($5<=0){$3.append('>');}$0++;$7.add($17);$2[$0]=-1;}$4=$E+1;$D=markup.indexOf('<',$4);}}else{$4=$D+1;$D=markup.indexOf('<',$D+1);}}$C.set_markup($3.toString());return $C;},$0:function($p0){var $0=$p0.indexOf('=');var $1=0;var $2={};while($0>=0){var $3=$p0.charAt($0+1);var $4=$p0.indexOf($3,$0+2);if($4>$0){var $5=$p0.substring($1,$0).trim();var $6=$p0.substring($0+2,$4);$2[$5]=$6;$1=$4+2;$0=$p0.indexOf('=',$1);}else{$0=$p0.indexOf('=',$0+1);}}return $2;},$1:function($p0,$p1){var $dict1=$p1;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};if(!this.$2($0.key)){$p0.setProperty($0.key,$0.value);}}},$2:function($p0){if($p0==='id'||$p0==='style'||$p0==='class'||$p0==='width'||$p0==='height'){return true;}return false;}}
BL.UI.UserControl=function(){BL.UI.UserControl.initializeBase(this);}
BL.UI.UserControl.prototype={$1_40:null,$1_41:null,get_user:function(){return this.$1_40;},set_user:function(value){if(this.$1_40===value){return;}this.$1_40=value;this.update();return value;},get_userReference:function(){return this.$1_41;},set_userReference:function(value){if(this.$1_41===value){return;}this.$1_41=value;this.onUserReferenceUpdated();this.update();return value;},get_effectiveId:function(){if(this.$1_40!=null){return this.$1_40.get_s_id();}if(this.$1_41!=null){return this.$1_41.get_s_id();}return null;},get_effectiveNickName:function(){if(this.$1_40!=null){return this.$1_40.get_summary();}if(this.$1_41!=null){return this.$1_41.get_s_nickName();}return null;},onUserReferenceUpdated:function(){if(this.$1_41!=null&&this.$1_41.get_s_id()!=null){var $0=BL.UserManager.get_current().ensureUser(this.$1_41.get_s_id());$0.loadUser(ss.Delegate.create(this,this.$1_42),null);}},$1_42:function($p0){if($p0.get_isCompleted()){this.set_user($p0.get_data());}},onUserUpdated:function(){}}
BL.UI.Control=function(){BL.UI.Control.initializeBase(this);this.$1_1C=ss.Delegate.create(this,this.$1_3B);}
BL.UI.Control.prototype={$1_0:null,$1_1:null,$1_2:null,$1_3:null,$1_4:null,$1_5:null,$1_6:null,$1_7:null,$1_8:false,$1_9:false,$1_A:false,$1_B:null,$1_C:null,$1_D:null,$1_E:null,id:null,$1_F:true,trackResizeEvents:false,$1_10:false,$1_11:null,$1_12:null,$1_13:null,$1_14:false,$1_15:false,$1_16:false,$1_17:false,$1_18:false,$1_19:false,$1_1A:null,$1_1B:0,$1_1C:null,$1_1D:null,$1_1E:null,$1_1F:null,$1_20:null,$1_21:null,$1_22:null,$1_23:null,$1_24:null,$1_25:null,$1_26:null,get_delayApplyTemplate:function(){return this.$1_14;},set_delayApplyTemplate:function(value){if(this.$1_14===value){return;}this.$1_14=value;if(!this.$1_14&&this.$1_0!=null&&!this.$1_16){this.ensureElements();}return value;},get_s_templateId:function(){if(this.$1_6==null){this.$1_6=Type.getInstanceType(this).get_fullName().replaceAll('.','-').toLowerCase();}return this.$1_6;},set_s_templateId:function(value){if(this.$1_6===value){return;}this.$1_6=value;this.$1_27();this.$1_32();return value;},get_effects:function(){if(this.$1_1A==null){this.$1_1A=new BL.UI.ElementEffects();this.$1_1A.set_element(this.$1_0);this.$1_1A.set_control(this);}return this.$1_1A;},get_template:function(){return this.$1_7;},set_template:function(value){this.$1_7=value;this.$1_16=false;return value;},get_i_width:function(){return this.$1_13;},set_i_width:function(value){if(this.$1_13===value){return;}this.$1_13=value;var $0=this.get_element();if($0!=null&&this.$1_13!=null){$0.style.width=(this.$1_13).toString()+'px';}this.onDimensionChanged();return value;},get_tagName:function(){return null;},get_i_height:function(){return this.$1_12;},set_i_height:function(value){if(this.$1_12===value){return;}this.$1_12=value;var $0=this.get_element();if($0!=null&&this.$1_12!=null){$0.style.height=(this.$1_12).toString()+'px';}this.onDimensionChanged();return value;},get_j:function(){if(this.$1_E==null){this.$1_E=$(this.$1_0);}return this.$1_E;},get_effectiveHeight:function(){if(this.$1_12!=null){return this.$1_12;}var $0=this.get_element();if($0!=null){return $0.scrollHeight;}return 0;},get_trackInteractionEvents:function(){return this.$1_17;},set_trackInteractionEvents:function(value){this.$1_17=value;this.$1_31();return value;},get_trackResizeEvents:function(){return this.trackResizeEvents;},set_trackResizeEvents:function(value){this.trackResizeEvents=value;this.$1_3E();return value;},get_b_visible:function(){return this.$1_F;},set_b_visible:function(value){if(this.$1_F===value){return;}this.$1_F=value;if(this.$1_F){if(!this.get_elementsEnsured()&&this.$1_15){this.$1_38(false);}}this.$1_3A();return value;},get_s_id:function(){if(this.id==null){this.ensureId();}return this.id;},set_s_id:function(value){this.id=value;return value;},get_defaultClass:function(){return null;},get_className:function(){return this.$1_D;},set_className:function(value){this.$1_D=value;this.$1_32();return value;},get_typeId:function(){if(this.$1_C==null){this.$1_C=Type.getInstanceType(this).get_fullName().replaceAll('.','-').toLowerCase();}return this.$1_C;},get_innerHtml:function(){return this.$1_B;},set_innerHtml:function(value){this.$1_B=value;if(this.get_elementsEnsured()){Bendyline.Base.HtmlUtilities.setInnerHtml(this.get_contentElement(),value);}return value;},get_templateControls:function(){if(this.$1_2==null){this.$1_2=[];}return this.$1_2;},get_templateDescendentControls:function(){if(this.$1_3==null){this.$1_3=[];}return this.$1_3;},get_templateElements:function(){if(this.$1_4==null){this.$1_4=[];}return this.$1_4;},get_initted:function(){return this.$1_8;},get_elementsEnsured:function(){return this.$1_A;},get_childControlsCreated:function(){return this.$1_9;},get_element:function(){return this.$1_0;},set_element:function(value){if(this.$1_0===value){return;}this.$1_18=false;this.$1_0=value;if(this.$1_0==null){this.$1_A=false;}if(this.$1_1A!=null&&this.$1_0!=null){this.$1_1A.set_element(this.$1_0);}this.$1_E=null;this.$1_31();this.ensureElements();return value;},get_contentElement:function(){if(this.$1_1==null){return this.$1_0;}return this.$1_1;},set_contentElement:function(value){if(this.$1_1===value){return;}this.$1_1=value;return value;},$1_27:function(){if(this.$1_16){var $enum1=ss.IEnumerator.getEnumerator(this.get_templateControls());while($enum1.moveNext()){var $0=$enum1.current;$0.$1_27();$0.set_element(null);}this.$1_7=null;this.$1_16=false;this.$1_19=true;this.$1_34();}},ensurePrepared:function(){if(!this.get_elementsEnsured()&&this.$1_15){this.$1_38(true);}},onDimensionChanged:function(){},$1_28:function($p0){this.$1_1B=Date.get_now().getTime();},$1_29:function($p0){var $0=Date.get_now();if($0.getTime()-this.$1_1B<200){this.onClick($p0);}},$1_2A:function($p0){this.onClick($p0);},onClick:function(e){},$1_2B:function($p0){this.onMouseEnter($p0);},onMouseEnter:function(e){},$1_2C:function($p0){this.onMouseLeave($p0);},onMouseLeave:function(e){},$1_2D:function($p0){this.onMouseOver($p0);},onMouseOver:function(e){},$1_2E:function($p0){this.onMouseOut($p0);},onMouseOut:function(e){},$1_2F:function($p0){this.onMouseMove($p0);},onMouseMove:function(e){},$1_30:function(){if(this.$1_18){this.$1_0.removeEventListener('click',this.$1_26,true);this.$1_0.removeEventListener('touchstart',this.$1_24,true);this.$1_0.removeEventListener('touchend',this.$1_25,true);this.$1_0.removeEventListener('mouseover',this.$1_1E,true);this.$1_0.removeEventListener('mouseout',this.$1_1F,true);this.$1_0.removeEventListener('mouseenter',this.$1_20,true);this.$1_0.removeEventListener('mouseleave',this.$1_21,true);this.$1_0.removeEventListener('mousemove',this.$1_22,true);this.$1_18=false;}},$1_31:function(){if(!this.$1_17){this.$1_30();return;}if(!this.$1_18&&this.$1_0!=null){if(this.$1_1F==null){this.$1_1E=ss.Delegate.create(this,this.$1_2D);this.$1_1F=ss.Delegate.create(this,this.$1_2E);this.$1_20=ss.Delegate.create(this,this.$1_2B);this.$1_21=ss.Delegate.create(this,this.$1_2C);this.$1_22=ss.Delegate.create(this,this.$1_2F);this.$1_24=ss.Delegate.create(this,this.$1_28);this.$1_25=ss.Delegate.create(this,this.$1_29);this.$1_26=ss.Delegate.create(this,this.$1_2A);}this.$1_0.addEventListener('click',this.$1_26,true);this.$1_0.addEventListener('touchstart',this.$1_24,true);this.$1_0.addEventListener('touchend',this.$1_25,true);this.$1_0.addEventListener('mouseover',this.$1_1E,true);this.$1_0.addEventListener('mouseout',this.$1_1F,true);this.$1_0.addEventListener('mouseenter',this.$1_20,true);this.$1_0.addEventListener('mouseleave',this.$1_21,true);this.$1_0.addEventListener('mousemove',this.$1_22,true);this.$1_18=true;}},$1_32:function(){if(this.get_element()!=null){if(this.$1_D!=null){this.get_element().className=this.get_s_templateId()+' '+this.$1_D;}else if(this.get_defaultClass()!=null){this.get_element().className=this.get_s_templateId()+' '+this.get_defaultClass();}else{this.get_element().className=this.get_s_templateId();}}},getElementClass:function(componentName){var $0=componentName.split(' ');var $1='';var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;if($1.length>0){$1+=' ';}$1+=this.get_s_templateId()+'-'+$2;}return $1;},ensureId:function(){if(this.id!=null){return;}if(this.get_element()!=null){this.id=this.get_element().id;}if(this.id==null){this.id=BL.Utilities.createRandomId();if(this.get_element()!=null){this.get_element().id=this.id;}}},attachToElement:function(e){this.$1_0=e;if(this.$1_1A!=null){this.$1_1A.set_element(e);}this.$1_33();this.$1_31();if(this.get_element()!=null){this.ensureElements();}},$1_33:function(){var $0=this.$1_0.attributes;for(var $1=0;$1<$0.length;$1++){var $2=null;$2=$0[$1];var $3=$2.name;if($3.startsWith('data-bl-')){var $4=$3.substring(8,$3.length);if($4!=='type'){this.setProperty($4,$2.value);}}}},attachTo:function(elementOrId,options){if (elementOrId != null) { if (elementOrId.tagName != null) { this.$1_0 = elementOrId; } if (typeof(elementOrId) == "string") { this.$1_0 = document.getElementById(elementOrId); }};this.$1_31();if(this.get_element()!=null){this.ensureElements();}},init:function(){if(this.$1_8||this.$1_0==null){return;}this.onInit();this.$1_8=true;},onApplyTemplate:function(){},createChildControls:function(){if(!this.$1_8){this.init();}if(!this.$1_9){this.onCreateChildControls();}this.$1_9=true;},$1_34:function(){if(this.$1_16){return;}if(this.get_template()!=null){this.$1_16=true;this.$1_36();return;}var $0=this.get_s_templateId();if($0!=null){this.$1_16=true;BL.UI.TemplateManager.get_current().getTemplateAsync($0,ss.Delegate.create(this,this.$1_35),null);}},$1_35:function($p0){var $0=$p0.get_data();if($0!=null){this.$1_6=$0.id;this.$1_7=$0.content;this.$1_36();}else{this.onBaseControlsElementsPostInit();}},$1_36:function(){var $0=this.get_template();this.$1_2=[];this.$1_3=[];this.$1_4=[];this.$1_5={};if($0!=null){var $1=new BL.UI.TemplateParser();var $2=$1.parse(this.get_s_id(),this.get_s_templateId(),$0);Bendyline.Base.HtmlUtilities.setInnerHtml(this.get_element(),$2.get_markup());if($2.get_itemsContainer()!=null){var $3=this.$1_37(this.get_element(),$2.get_itemsContainer());var fn = this["set_itemsContainerElement"];  if (fn != null) { fn.apply(this, new Array($3)); };}if($2.get_contentContainer()!=null){var $4=this.$1_37(this.get_element(),$2.get_contentContainer());var fn = this["set_contentContainerElement"];  if (fn != null) { fn.apply(this, new Array($4)); };}for(var $5=0;$5<$2.get_controls().length;$5++){var $6=$2.get_controlElementPaths()[$5];var $7=$2.get_controls()[$5];var $8=$2.get_controlIds()[$5];if($6!=null){this.$1_2.add($7);var $9=this.$1_37(this.get_element(),$6);this.$1_4.add($9);if($8!=null){this['e_' + $8]=$9;}}else{this.$1_3.add($7);}if($8!=null){this['c_' + $8]=$7;}}for(var $A=0;$A<$2.get_elementIds().length;$A++){var $B=$2.get_elementElementPaths()[$A];var $C=$2.get_elementIds()[$A];var $D=this.$1_37(this.get_element(),$B);if($C!=null){this.$1_5[$C]=$D;this['e_' + $C]=$D;}}}for(var $E=0;$E<this.$1_2.length;$E++){var $F=this.$1_2[$E];var $10=this.$1_4[$E];$F.attachTo($10,null);}this.onApplyTemplate();this.onBaseControlsElementsPostInit();if(this.$1_19){this.$1_19=false;this.onUpdate();}},$1_37:function($p0,$p1){for(var $0=0;$0<$p1.length;$0++){$p0=$p0.children[$p1[$0]];}return $p0;},ensureElements:function(){this.$1_38(false);},$1_38:function($p0){var $0=this.get_element();if($0==null){var $1=this.get_tagName();if($1==null){$1='div';}this.$1_0=document.createElement($1);if(this.$1_1A!=null){this.$1_1A.set_element(this.$1_0);}this.$1_E=null;this.$1_31();this.$1_16=false;this.$1_A=false;this.ensureId();$0=this.get_element();if(!this.get_b_visible()){$0.style.display='none';}}if($p0||(this.get_b_visible()&&!this.$1_14)){this.$1_34();if(!this.$1_9){this.createChildControls();}if(!this.get_elementsEnsured()){this.$1_A=true;this.$1_32();this.onEnsureElements();if(this.$1_B!=null){Bendyline.Base.HtmlUtilities.setInnerHtml(this.get_contentElement(),this.$1_B);}if(this.$1_2!=null){var $enum1=ss.IEnumerator.getEnumerator(this.$1_2);while($enum1.moveNext()){var $2=$enum1.current;this.$1_3C($2);}}this.$1_3E();if(this.$1_12!=null){$0.style.posHeight=this.get_i_height();}if(this.$1_13!=null){$0.style.posWidth=this.get_i_width();}this.onUpdate();}if(this.trackResizeEvents){this.doResize();}}else{this.$1_15=true;}this.$1_3A();},$1_39:function($p0){var $0=$p0.lastIndexOf('-');if($0>0){return $p0.substring($0+1,$p0.length);}return $p0;},getTemplateElementById:function(id){if(Object.keyExists(this.$1_5,id)){return this.$1_5[id];}return null;},getTemplateControlById:function(id){var $enum1=ss.IEnumerator.getEnumerator(this.$1_2);while($enum1.moveNext()){var $0=$enum1.current;if(this.$1_39($0.get_s_id())===id){return $0;}}var $enum2=ss.IEnumerator.getEnumerator(this.$1_3);while($enum2.moveNext()){var $1=$enum2.current;if(this.$1_39($1.get_s_id())===id){return $1;}}return null;},$1_3A:function(){if (window.requestAnimationFrame) {window.requestAnimationFrame(this.$1_1C);}else{window.setTimeout(this.$1_1C, 1);};},$1_3B:function(){var $0=this.get_element();if($0!=null){if(this.$1_F){if(this.$1_11!=null){$0.style.display=this.$1_11;this.$1_11=null;}else{$0.style.display='';}this.onVisibilityChanged();}else{var $1=$0.style.display;if($1!=='none'&&!String.isNullOrEmpty($1)){this.$1_11=$1;}else{this.$1_11=null;}$0.style.display='none';this.onVisibilityChanged();}}},onVisibilityChanged:function(){},dispose:function(){this.$1_30();this.$1_3D();if(this.$1_2!=null){var $enum1=ss.IEnumerator.getEnumerator(this.$1_2);while($enum1.moveNext()){var $0=$enum1.current;if(Type.canCast($0,ss.IDisposable)){($0).dispose();}}}if(this.$1_3!=null){var $enum2=ss.IEnumerator.getEnumerator(this.$1_3);while($enum2.moveNext()){var $1=$enum2.current;if(Type.canCast($1,ss.IDisposable)){($1).dispose();}}}},$1_3C:function($p0){if($p0.get_element()==null){var $0=document.createElement('DIV');$p0.set_element($0);this.get_contentElement().appendChild($0);}else{var $1=false;var $2=$p0.get_element();var $3=$2;do{$3=$3.parentNode;if($3===this.get_contentElement()){$1=true;}}while(!$1&&$3!=null);if(!$1){this.get_contentElement().appendChild($2);}this.onBaseControlsElementsPostInit();$p0.ensureElements();}},addBaseControl:function(child){if(this.$1_2==null){this.$1_2=[];}this.$1_2.add(child);if(this.get_elementsEnsured()){this.$1_3C(child);}},createElementWithTypeAndAdditionalClasses:function(elementClass,type,additionalClasses){var $0=document.createElement(type);$0.className=this.getElementClass(elementClass)+' '+additionalClasses;return $0;},createElementWithType:function(elementClass,type){var $0=document.createElement(type);$0.className=this.getElementClass(elementClass);return $0;},createElement:function(elementClass){var $0=document.createElement('DIV');$0.className=this.getElementClass(elementClass);return $0;},createElementWithAdditionalClasses:function(elementClass,additionalClasses){var $0=document.createElement('DIV');$0.className=this.getElementClass(elementClass)+' '+additionalClasses;return $0;},createTemplateChild:function(elementName){var $0=document.createElement('DIV');$0.className=this.getElementClass(elementName);return $0;},update:function(){if(!this.$1_A){return;}this.onUpdate();},onInit:function(){},onCreateChildControls:function(){},onEnsureElements:function(){},onUpdate:function(){},onBaseControlsElementsPostInit:function(){},$1_3D:function(){if(this.$1_10){window.removeEventListener('resize',this.$1_1D,true);this.$1_10=false;}},$1_3E:function(){if(this.$1_1D==null){this.$1_1D=ss.Delegate.create(this,this.$1_3F);}if(!this.$1_10&&(this.trackResizeEvents&&this.get_b_visible())){window.addEventListener('resize',this.$1_1D,true);this.$1_10=true;}else if(this.$1_10&&(!this.trackResizeEvents||!this.get_b_visible())){this.$1_3D();}},$1_3F:function($p0){this.doResize();},doResize:function(){window.setTimeout(ss.Delegate.create(this,this.onResize),1);},onResize:function(){}}
BL.UI.ElementUtilities=function(){}
BL.UI.ElementUtilities.clearChildElements=function(e){while(e.childNodes.length>0){e.removeChild(e.childNodes[0]);}}
BL.UI.ElementUtilities.getIsChecked=function(ie){var $0=false;$0=ie.checked;return $0;}
BL.UI.ElementUtilities.setIsCheckedFromObject=function(ie,isChecked){ie.checked=isChecked.toString();}
BL.UI.ElementUtilities.setBackgroundSize=function(element,value){element.style.backgroundSize=value;}
BL.UI.ElementUtilities.setIsChecked=function(ie,isChecked){ie.checked=isChecked;}
BL.UI.ElementUtilities.getTouchStartEventName=function(){if (window.navigator.msPointerEnabled) { return "MSPointerDown"; };return 'touchstart';}
BL.UI.ElementUtilities.getTouchMoveEventName=function(){if (window.navigator.msPointerEnabled) { return "MSPointerMove"; };return 'touchmove';}
BL.UI.ElementUtilities.getTouchEndEventName=function(){if (window.navigator.msPointerEnabled) { return "MSPointerUp"; };return 'touchend';}
BL.UI.ElementUtilities.getTouchCancelEventName=function(){if (window.navigator.msPointerEnabled) { return null; };return 'touchcancel';}
BL.UI.ElementUtilities.getDimension=function(dimension){if(String.isNullOrEmpty(dimension)){return null;}if(dimension.endsWith('px')){return parseInt(dimension.substring(0,dimension.length-2));}return null;}
BL.UI.ElementUtilities.getPageX=function(e){var $0=0;if (e.touches != null) { $0=e.touches[0].pageX; } else { $0=e.pageX;};return $0;}
BL.UI.ElementUtilities.getPageY=function(e){var $0=0;if(e.touches != null) { $0=e.touches[0].pageY;} else { $0=e.pageY;};return $0;}
BL.UI.ElementUtilities.getBoundingRect=function(e){var $0=null;$0=e.getBoundingClientRect();return $0;}
BL.UI.ElementUtilities.setText=function(element,text){while(element.firstChild!=null){element.removeChild(element.firstChild);}element.appendChild(document.createTextNode(text));}
BL.UI.ElementUtilities.animateOnNextFrame=function(callback){if (window.requestAnimationFrame) {window.requestAnimationFrame(callback);}else{window.setTimeout(callback, 15);};}
BL.UI.ElementUtilities.getEventTarget=function(e){return e.target;}
BL.UI.ElementUtilities.elementIsChildOf=function(element,parentToLookFor){for(var $0=0;$0<parentToLookFor.children.length;$0++){if(parentToLookFor.children[$0]===element){return true;}}return false;}
BL.UI.ElementUtilities.elementIsDescendentOf=function(element,ancestorToLookFor){if(element===ancestorToLookFor){return true;}if(element.parentNode!=null){return BL.UI.ElementUtilities.elementIsDescendentOf(element.parentNode,ancestorToLookFor);}return false;}
BL.UI.ElementUtilities.getBoundingHeight=function(e){var $0=0;var cr=e.getBoundingClientRect();return cr.bottom-cr.top;return $0;}
BL.UI.ElementUtilities.disableElementTouchMove=function(e){e.addEventListener('touchmove',BL.UI.ElementUtilities.cancelEvent,false);}
BL.UI.ElementUtilities.cancelEvent=function(eventDetails){eventDetails.preventDefault();}
BL.UI.ItemsControl=function(){BL.UI.ItemsControl.initializeBase(this);}
BL.UI.ItemsControl.prototype={$1_40:null,$1_41:null,$1_42:null,$1_43:false,get_itemsContainerElement:function(){if(this.$1_40==null){return this.get_element();}return this.$1_40;},set_itemsContainerElement:function(value){if(this.$1_40===value){return;}this.$1_44();this.$1_40=value;if(this.$1_40!=null&&this.get_itemControls()!=null){var $enum1=ss.IEnumerator.getEnumerator(this.get_itemControls());while($enum1.moveNext()){var $0=$enum1.current;this.$1_45($0);}}return value;},get_itemControls:function(){return this.$1_41;},get_wrapItems:function(){return this.$1_43;},set_wrapItems:function(value){this.$1_43=value;return value;},getWrapper:function(index){if(this.get_element()!=null){if(this.get_element().childNodes.length>index){return this.get_element().childNodes[index];}}return null;},getById:function(id){return this.$1_42[id];},$1_27:function(){BL.UI.ItemsControl.callBaseMethod(this, '$1_27');if(this.$1_41!=null){var $enum1=ss.IEnumerator.getEnumerator(this.get_itemControls());while($enum1.moveNext()){var $0=$enum1.current;$0.$1_27();}}},insertItemControl:function(index,c){if(this.$1_41==null){this.$1_41=[];this.$1_42={};}this.$1_41.insert(index,c);this.$1_42[c.get_s_id()]=c;if(this.get_elementsEnsured()){this.$1_46(index,c);}this.onItemControlAdded(c);},addItemControl:function(c){if(this.$1_41==null){this.$1_41=[];this.$1_42={};}this.$1_41.add(c);this.$1_42[c.get_s_id()]=c;if(this.get_elementsEnsured()){this.$1_45(c);}this.onItemControlAdded(c);},onItemControlAdded:function(c){},$1_44:function(){if(this.get_itemsContainerElement()!=null&&this.get_itemControls()!=null){var $enum1=ss.IEnumerator.getEnumerator(this.get_itemControls());while($enum1.moveNext()){var $0=$enum1.current;if($0.get_element()!=null&&this.get_itemsContainerElement().contains($0.get_element())){try{this.get_itemsContainerElement().removeChild($0.get_element());}catch($1){}}}}},clearItemControls:function(){this.$1_44();this.$1_41=null;this.$1_42=null;},dispose:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$1_41);while($enum1.moveNext()){var $0=$enum1.current;$0.dispose();}BL.UI.ItemsControl.callBaseMethod(this, 'dispose');},onBaseControlsElementsPostInit:function(){if(this.$1_41==null||this.get_itemsContainerElement()==null){return;}var $enum1=ss.IEnumerator.getEnumerator(this.$1_41);while($enum1.moveNext()){var $0=$enum1.current;this.$1_45($0);}},$1_45:function($p0){this.$1_46(-1,$p0);},$1_46:function($p0,$p1){var $0=this.get_itemsContainerElement();if(this.$1_41==null||$0==null){return;}var $1=null;var $2=null;var $3=false;if($p1.get_element()==null){var $4=$p1.get_tagName();if($4==null){$4='DIV';}$1=document.createElement($4);if(this.$1_43){$2=this.createElement('itemWrapper');$2.appendChild($1);}$3=true;}else{$p1.ensureElements();$1=$p1.get_element();if(this.$1_43){if($1.parentNode!=null){$2=$1.parentNode;}else{$2=this.createElement('itemWrapper');$2.appendChild($1);}}}if(($2!=null&&$2.parentNode!==$0)||($2==null&&$1.parentNode!==$0)){if($p0<0||$p0>=$0.children.length){if($2!=null){$0.appendChild($2);}else{$0.appendChild($1);}}else{if($2!=null){$0.insertBefore($2,$0.children[$p0]);}else{$0.insertBefore($1,$0.children[$p0]);}}}if($3){$p1.set_element($1);}}}
BL.UI.LiteralControl=function(){BL.UI.LiteralControl.initializeBase(this);}
BL.ControlIntegerEventArgs.registerClass('BL.ControlIntegerEventArgs',ss.EventArgs);BL.PointAndStartElementEventArgs.registerClass('BL.PointAndStartElementEventArgs',ss.EventArgs);BL.PointElementEventArgs.registerClass('BL.PointElementEventArgs',ss.EventArgs);BL.UI.Control.registerClass('BL.UI.Control',BL.SerializableObject,ss.IDisposable,BL.UI.IControl);BL.ContentItemControl.registerClass('BL.ContentItemControl',BL.UI.Control);BL.ControlValueEventArgs.registerClass('BL.ControlValueEventArgs',ss.EventArgs);BL.ElementContentItemControl.registerClass('BL.ElementContentItemControl',BL.UI.Control);BL.ControlEventArgs.registerClass('BL.ControlEventArgs',ss.EventArgs);BL.UI.ContentControl.registerClass('BL.UI.ContentControl',BL.UI.Control);BL.UI.Dialog.registerClass('BL.UI.Dialog',BL.UI.ContentControl);BL.UI.ItemsControl.registerClass('BL.UI.ItemsControl',BL.UI.Control);BL.UI.SlotItemsControl.registerClass('BL.UI.SlotItemsControl',BL.UI.ItemsControl);BL.UI.OpacityAnimator.registerClass('BL.UI.OpacityAnimator');BL.UI.ScrollAnimator.registerClass('BL.UI.ScrollAnimator');BL.UI.ElementEffects.registerClass('BL.UI.ElementEffects');BL.UI.ContentItem.registerClass('BL.UI.ContentItem');BL.UI.ContentItemSet.registerClass('BL.UI.ContentItemSet');BL.UI.ControlManager.registerClass('BL.UI.ControlManager');BL.UI.BaseControlFactory.registerClass('BL.UI.BaseControlFactory',null,BL.UI.IControlFactory);BL.UI.DebugPanel.registerClass('BL.UI.DebugPanel',BL.UI.Control);Facer.registerClass('Facer');BL.UI.ListItem.registerClass('BL.UI.ListItem',BL.UI.Control);BL.UI.List.registerClass('BL.UI.List',BL.UI.ItemsControl);BL.UI.Template.registerClass('BL.UI.Template');BL.UI.TemplateFile.registerClass('BL.UI.TemplateFile');BL.UI.TemplateManager.registerClass('BL.UI.TemplateManager');BL.UI.TemplateParserResult.registerClass('BL.UI.TemplateParserResult');BL.UI.TemplateParser.registerClass('BL.UI.TemplateParser');BL.UI.UserControl.registerClass('BL.UI.UserControl',BL.UI.Control);BL.UI.ElementUtilities.registerClass('BL.UI.ElementUtilities');BL.UI.LiteralControl.registerClass('BL.UI.LiteralControl',BL.UI.Control);BL.UI.ElementEffects.$1D=null;BL.UI.ElementEffects.$1E=false;BL.UI.ControlManager.$1=new BL.UI.ControlManager();BL.UI.TemplateFile.rootTemplatePath='/gs/t/';BL.UI.TemplateManager.$0=null;})();// This script was generated using Script# v0.7.4.0
// bl.bs.js
(function($){
Type.registerNamespace('BL.BS');BL.BS.Breadcrumb=function(){BL.BS.Breadcrumb.initializeBase(this);}
BL.BS.Breadcrumb.prototype={get_defaultClass:function(){return 'breadcrumb';},get_tagName:function(){return 'ol';}}
BL.BS.NavbarLinkSection=function(){BL.BS.NavbarLinkSection.initializeBase(this);}
BL.BS.NavbarLinkSection.prototype={get_defaultClass:function(){return 'nav navbar-nav navbar-left';},get_tagName:function(){return 'ul';}}
BL.BS.Jumbotron=function(){BL.BS.Jumbotron.initializeBase(this);}
BL.BS.Jumbotron.prototype={e_title:null,e_lead:null,e_image:null,e_imageCell:null,e_callToAction:null,$3_0:null,$3_1:null,$3_2:null,get_s_title:function(){return this.$3_0;},set_s_title:function(value){this.$3_0=value;this.update();return value;},get_s_lead:function(){return this.$3_1;},set_s_lead:function(value){this.$3_1=value;this.update();return value;},get_s_imageUrl:function(){return this.$3_2;},set_s_imageUrl:function(value){this.$3_2=value;this.update();return value;},onApplyTemplate:function(){if(this.e_title!=null){BL.UI.ElementUtilities.setText(this.e_title,this.get_s_title());}if(this.e_lead!=null){BL.UI.ElementUtilities.setText(this.e_lead,this.get_s_lead());}if(this.e_image!=null&&this.e_imageCell!=null){if(String.isNullOrEmpty(this.get_s_imageUrl())){this.e_imageCell.style.display='none';}else{this.e_image.src=this.get_s_imageUrl();this.e_imageCell.style.display='block';}}}}
BL.BS.Nav=function(){BL.BS.Nav.initializeBase(this);}
BL.BS.Nav.prototype={get_defaultClass:function(){return 'nav nav-pills';},get_tagName:function(){return 'ul';}}
BL.BS.Item=function(){BL.BS.Item.initializeBase(this);}
BL.BS.Item.prototype={$2_0:false,$2_1:false,$2_2:null,$2_3:null,e_link:null,get_s_text:function(){return this.$2_2;},set_s_text:function(value){this.$2_2=value;this.update();return value;},get_s_href:function(){return this.$2_3;},set_s_href:function(value){this.$2_3=value;this.set_trackInteractionEvents(true);this.update();return value;},get_b_active:function(){return this.$2_0;},set_b_active:function(value){this.$2_0=value;this.$2_4();return value;},get_b_disabled:function(){return this.$2_1;},set_b_disabled:function(value){this.$2_1=value;this.$2_4();return value;},get_tagName:function(){return 'li';},$2_4:function(){var $0='';if(this.$2_0){$0+='active';}if(this.$2_1){if($0.length>0){$0+=' ';}$0+='disabled';}this.set_className($0);},onClick:function(e){if(this.get_s_href()!=null){window.location.assign(this.get_s_href());}},onApplyTemplate:function(){BL.BS.Item.callBaseMethod(this, 'onApplyTemplate');if(this.e_link!=null){BL.UI.ElementUtilities.setText(this.e_link,this.get_s_text());}}}
BL.BS.NavbarButton=function(){BL.BS.NavbarButton.initializeBase(this);}
BL.BS.NavbarButton.prototype={get_defaultClass:function(){return 'btn btn-default navbar-btn';},get_tagName:function(){return 'button';}}
BL.BS.NavbarSectionBase=function(){BL.BS.NavbarSectionBase.initializeBase(this);}
BL.BS.NavbarSectionBase.prototype={setActive:function(index,active){if(index>this.get_itemControls().length){return;}var $0=this.get_itemControls()[index];$0.set_b_active(active);}}
BL.BS.NavbarText=function(){BL.BS.NavbarText.initializeBase(this);}
BL.BS.NavbarText.prototype={get_defaultClass:function(){return 'navbar-text';},get_tagName:function(){return 'p';}}
BL.BS.Navbar=function(){this.$3_0=-1;BL.BS.Navbar.initializeBase(this);}
BL.BS.Navbar.prototype={get_defaultClass:function(){return 'navbar navbar-default';},get_tagName:function(){return 'nav';},select:function(index){if(this.$3_0>=0){this.setActive(this.$3_0,false);}this.$3_0=index;this.setActive(this.$3_0,true);},setActive:function(index,value){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.get_itemControls());while($enum1.moveNext()){var $1=$enum1.current;var $2=$1.get_itemControls();if($0+$2.length>index){$1.setActive(index-$0,value);return;}$0+=$2.length;}}}
BL.BS.NavbarSection=function(){BL.BS.NavbarSection.initializeBase(this);}
BL.BS.NavbarSection.prototype={get_defaultClass:function(){return 'navbar-left';}}
BL.BS.Button=function(){BL.BS.Button.initializeBase(this);}
BL.BS.Button.prototype={get_defaultClass:function(){return 'btn btn-default';},get_tagName:function(){return 'button';},onEnsureElements:function(){}}
BL.BS.Breadcrumb.registerClass('BL.BS.Breadcrumb',BL.UI.ItemsControl);BL.BS.NavbarSectionBase.registerClass('BL.BS.NavbarSectionBase',BL.UI.ItemsControl);BL.BS.NavbarLinkSection.registerClass('BL.BS.NavbarLinkSection',BL.BS.NavbarSectionBase);BL.BS.Jumbotron.registerClass('BL.BS.Jumbotron',BL.UI.ItemsControl);BL.BS.Nav.registerClass('BL.BS.Nav',BL.UI.ItemsControl);BL.BS.Item.registerClass('BL.BS.Item',BL.UI.Control);BL.BS.NavbarButton.registerClass('BL.BS.NavbarButton',BL.ElementContentItemControl);BL.BS.NavbarText.registerClass('BL.BS.NavbarText',BL.ElementContentItemControl);BL.BS.Navbar.registerClass('BL.BS.Navbar',BL.UI.ItemsControl);BL.BS.NavbarSection.registerClass('BL.BS.NavbarSection',BL.BS.NavbarSectionBase);BL.BS.Button.registerClass('BL.BS.Button',BL.ElementContentItemControl);})(jQuery);// This script was generated using Script# v0.7.4.0
// bl.site.js
(function($){
Type.registerNamespace('BL.Site');BL.Site.TwitterTimeline=function(){BL.Site.TwitterTimeline.initializeBase(this);}
BL.Site.TwitterTimeline.prototype={$2_0:null,$2_1:null,$2_2:true,$2_3:true,$2_4:true,$2_5:true,$2_6:false,get_b_displayScrollbar:function(){return this.$2_5;},set_b_displayScrollbar:function(value){this.$2_5=value;return value;},get_b_displayBorders:function(){return this.$2_4;},set_b_displayBorders:function(value){this.$2_4=value;return value;},get_b_displayHeader:function(){return this.$2_3;},set_b_displayHeader:function(value){this.$2_3=value;return value;},get_b_displayFooter:function(){return this.$2_2;},set_b_displayFooter:function(value){this.$2_2=value;return value;},e_timelineContainer:null,get_s_url:function(){return this.$2_0;},set_s_url:function(value){this.$2_0=value;return value;},get_s_widgetId:function(){return this.$2_1;},set_s_widgetId:function(value){this.$2_1=value;return value;},onInit:function(){BL.Site.TwitterTimeline.callBaseMethod(this, 'onInit');var $0=null;if(document.getElementById('twitter-wjs')==null){var $1=document.getElementsByTagName('SCRIPT')[0];$0=document.createElement('SCRIPT');$0.id='twitter-wjs';$0.src='//platform.twitter.com/widgets.js';$1.parentNode.insertBefore($0,$1);}},onUpdate:function(){BL.Site.TwitterTimeline.callBaseMethod(this, 'onUpdate');if(this.e_timelineContainer==null){return;}if(this.$2_0!=null){this.e_timelineContainer.href=this.$2_0;}if(this.$2_1!=null){this.e_timelineContainer.setAttribute('data-widget-id',this.$2_1);}var $0='';if(!this.$2_2){$0+=' nofooter';}if(!this.$2_3){$0+=' noheader';}if(!this.$2_4){$0+=' noborders';}if(!this.$2_5){$0+=' noscrollbar';}if($0.length>0){this.e_timelineContainer.setAttribute('data-chrome',$0.trimStart());}}}
BL.Site.Slideshow=function(){BL.Site.Slideshow.initializeBase(this);}
BL.Site.Slideshow.prototype={e_next:null,e_previous:null,c_presenter:null,$2_0:0,$2_1:null,get_activeIndex:function(){return this.$2_0;},set_activeIndex:function(value){this.$2_0=value;this.update();return value;},get_o_sections:function(){return this.$2_1;},set_o_sections:function(value){this.$2_1=value;this.set_activeIndex(0);return value;},onApplyTemplate:function(){BL.Site.Slideshow.callBaseMethod(this, 'onApplyTemplate');if(this.e_next!=null){this.e_next.addEventListener('click',ss.Delegate.create(this,this.$2_3),true);}if(this.e_previous!=null){this.e_previous.addEventListener('click',ss.Delegate.create(this,this.$2_2),true);}},$2_2:function($p0){this.previous();},$2_3:function($p0){this.next();},next:function(){if(this.$2_0>=this.$2_1.items.length-1){this.set_activeIndex(0);}else{this.set_activeIndex(this.get_activeIndex()+1)-1;}},previous:function(){if(this.$2_0<=0){this.set_activeIndex(this.get_o_sections().items.length-1);}else{this.set_activeIndex(this.get_activeIndex()-1)+1;}},onUpdate:function(){BL.Site.Slideshow.callBaseMethod(this, 'onUpdate');if(this.get_o_sections()!=null&&this.c_presenter!=null&&this.get_o_sections().items!=null){if(this.$2_0>=0&&this.$2_0<this.get_o_sections().items.length){this.c_presenter.set_contentSection(this.get_o_sections().items[this.$2_0]);}}}}
BL.Site.SlideshowSection=function(){BL.Site.SlideshowSection.initializeBase(this);}
BL.Site.Section=function(){BL.Site.Section.initializeBase(this);}
BL.Site.Section.prototype={$2_0:null,$2_1:null,e_title:null,e_content:null,e_titleLink:null,e_mainImage:null,c_slideshow:null,get_s_url:function(){return this.$2_1;},set_s_url:function(value){this.$2_1=value;return value;},get_defaultClass:function(){return 'row';},get_contentSection:function(){return this.$2_0;},set_contentSection:function(value){this.$2_0=value;if(this.$2_0.templateId!=null){this.set_s_templateId(this.$2_0.templateId);}this.update();return value;},onUpdate:function(){BL.Site.Section.callBaseMethod(this, 'onUpdate');if(this.$2_0==null){return;}if(this.e_title!=null){BL.UI.ElementUtilities.setText(this.e_title,this.$2_0.title);}if(this.e_content!=null){BL.UI.ElementUtilities.setText(this.e_content,this.$2_0.content);}if(this.e_titleLink!=null){if(this.$2_1!=null){this.e_titleLink.href=this.$2_1;}else if(this.$2_0.url!=null){this.e_titleLink.href=this.$2_0.url;}}if(this.e_mainImage!=null){if(this.$2_0.mainImage==null){this.e_mainImage.style.display='none';}else{this.e_mainImage.style.display='block';this.e_mainImage.src=this.$2_0.mainImage;}}if(this.c_slideshow!=null){this.c_slideshow.set_o_sections(this.get_contentSection().data);}}}
BL.Site.SectionSetDisplay=function(){BL.Site.SectionSetDisplay.initializeBase(this);}
BL.Site.SectionSetDisplay.prototype={$3_0:null,$3_1:null,$3_2:false,get_u_sectionDataUrl:function(){return this.$3_1;},set_u_sectionDataUrl:function(value){this.$3_1=value;this.$3_2=false;this.update();return value;},get_contentSectionSet:function(){return this.$3_0;},set_contentSectionSet:function(value){this.$3_0=value;this.update();return value;},onUpdate:function(){if(this.$3_1!=null&&!this.$3_2){this.$3_2=true;$.getJSON(this.$3_1,ss.Delegate.create(this,this.sectionSetRetrieved));}if(this.get_contentSectionSet()!=null){var $0={};if(this.get_itemControls()!=null){var $enum1=ss.IEnumerator.getEnumerator(this.get_itemControls());while($enum1.moveNext()){var $1=$enum1.current;$0[$1.get_contentSection().id]=$1;}}var $enum2=ss.IEnumerator.getEnumerator(this.get_contentSectionSet().items);while($enum2.moveNext()){var $2=$enum2.current;var $3=$0[$2.id];if($3==null){$3=new BL.Site.Section();if($2.templateId!=null){$3.set_s_templateId($2.templateId);}$3.set_contentSection($2);}this.addItemControl($3);}}},sectionSetRetrieved:function(css){var $0=css;this.set_contentSectionSet($0[0]);}}
BL.Site.TwitterTimeline.registerClass('BL.Site.TwitterTimeline',BL.UI.Control);BL.Site.Slideshow.registerClass('BL.Site.Slideshow',BL.UI.Control);BL.Site.Section.registerClass('BL.Site.Section',BL.UI.Control);BL.Site.SlideshowSection.registerClass('BL.Site.SlideshowSection',BL.Site.Section);BL.Site.SectionSetDisplay.registerClass('BL.Site.SectionSetDisplay',BL.UI.ItemsControl);})(jQuery);// This script was generated using Script# v0.7.4.0
BL.UI.TemplateManager.get_current().addTemplateFile("bl.ui", [{"id":"bl-ui-debugpanel","content":"<input type=\"button\" value=\"&lt;\" id=\"collapse\" /><div id='panel'><div id='log'><BL.UI.List id='logList' /></div></div>"},{"id":"bl-ui-dialog","content":"<div id=\"panel\"><div id=\"topBar\"><div id=\"titleText\"></div><div id=\"closeButton\"><img src=\"qla/images/close.png\"/></div></div><ContentContainer /></div>"},{"id":"bl-ui-dialogfullscreen","content":"<div id='panel'><div id=\"topBar\"><div id=\"titleText\"></div><div id=\"closeButton\"><img src=\"qla/images/close.png\"/></div></div><ContentContainer/></div>"},{"id":"bl-ui-list","content":"<ItemsContainer id='items'/>"},{"id":"bl-ui-listitem","content":"<div><div id='title'></div></div>"},{"id":"bl-ui-slotsitemcontrol1x2x1h","content":"<div id=\"row\"><div id=\"first\"><div id=\"item0\"></div></div><div id=\"second\"><div id=\"innerTable\"><div id=\"innerRowA\"><div data-ctl-class=\"innerCell\"><div id=\"item1\"></div></div></div><div id=\"innerRowB\"><div data-ctl-class=\"innerCell\"><div id=\"item2\"></div></div></div></div></div><div id=\"third\"><div id=\"item3\"></div></div></div>"},{"id":"bl-ui-slotsitemcontrol2v","content":"<div id=\"innerTable\"><div id=\"innerRowA\"><div data-ctl-class=\"innerCell\"><div id=\"item0\"></div></div></div><div id=\"innerRowB\"><div data-ctl-class=\"innerCell\"><div id=\"item1\"></div></div></div></div>"},{"id":"bl-ui-slotsitemcontrol2x1v","content":"<div id=\"top\"><div id=\"topInner\"><div id=\"item0\"></div><div id=\"item1\"></div></div></div><div id=\"bottom\"><div id=\"bottomInner\"><div id=\"item2\"></div></div></div>"}]);var temparr=[{"id":"bl-bs-item","content":"<a id='link'></a>"},{"id":"bl-bs-jumbotron","content":"<div  class=\"jumbotron\"><div class=\"row\"><div class=\"col-md-3\" id=\"imageCell\"><div id=\"imageOuter\"><img id=\"image\" class=\"img-responsive\"></img></div></div><div  class=\"col-md-9\"><h1 id='title'></h1><h4 id=\"lead\"></h4></div></div><div><ItemsContainer/></div></div>"},{"id":"bl-bs-navbarsection","content":"<ItemsContainer/>"}];BL.UI.TemplateManager.get_current().addTemplateFile("bl.bs", temparr);var temparr=[{"id":"bl-site-bigimage","content":"<div class=\"col-md-12\"><div id='imageBin'><img id='mainImage' style='display: none' class=\"img-responsive\"/></div><div id='inner'><h3 id='title'></h3><div id='content'></div></div></div>"},{"id":"bl-site-imageonly","content":"<img id='mainImage' style='display: none' class=\"img-responsive\"/>"},{"id":"bl-site-rightimage","content":"<div id='inner' class=\"col-md-9\"><a id=\"titleLink\"><h3 id='title'></h3></a><div id='content'></div></div><div id='imageBin' class=\"col-md-3\"><img id='mainImage' style='display: none' class=\"img-responsive\"/></div>"},{"id":"bl-site-section","content":"<div id='imageBin' class='col-md-3'><img id='mainImage' class=\"img-responsive\" style='display: none'/></div><div id='contentBin' class='col-md-9'><a id=\"titleLink\"><h3 id='title'></h3></a><div id='content'></div></div>"},{"id":"bl-site-sectionsetdisplay","content":"<ItemsContainer class='container' id='items'/>"},{"id":"bl-site-slideshow","content":"<div id='imageBin'><span class=\"glyphicon glyphicon-chevron-left\" id='previous'></span><BL.Site.Section id='presenter'/><span class=\"glyphicon glyphicon-chevron-right\" id='next'></span></div>"},{"id":"bl-site-slideshowsection","content":"<div id='imageBin' class='col-md-4'><BL.Site.Slideshow id='slideshow'></BL.Site.Slideshow></div><div id='contentBin' class='col-md-8'><h3 id='title'></h3><div id='content'></div></div>"},{"id":"bl-site-twittertimeline","content":"<a class=\"twitter-timeline\" id=\"timelineContainer\"></a>"}];BL.UI.TemplateManager.get_current().addTemplateFile("bl.site", temparr);