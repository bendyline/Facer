// bl.js
(function(){
Type.registerNamespace('BL');BL.Base$0=function(){};BL.Base$0.registerInterface('BL.Base$0');BL.INotifyCollectionChanged=function(){};BL.INotifyCollectionChanged.registerInterface('BL.INotifyCollectionChanged');BL.ISerializableCollection=function(){};BL.ISerializableCollection.registerInterface('BL.ISerializableCollection');BL.NotifyCollectionChangedAction=function(){};BL.NotifyCollectionChangedAction.prototype = {add:1,move:2,remove:3,replace:4,reset:5}
BL.NotifyCollectionChangedAction.registerEnum('BL.NotifyCollectionChangedAction',false);BL.SerializablePropertyType=function(){};BL.SerializablePropertyType.prototype = {string:0,integer:1,choice:2,bool:3,number:4,object:5,scalarCollection:6,date:7,smallInteger:8,urlString:9,objectCollection:10}
BL.SerializablePropertyType.registerEnum('BL.SerializablePropertyType',false);BL.IAsyncResult=function(){};BL.IAsyncResult.registerInterface('BL.IAsyncResult');BL.LogStatus=function(){};BL.LogStatus.prototype = {critical:1,normal:2,verbose:4,unexpectedError:8,scopeStart:16,scopeEnd:32}
BL.LogStatus.registerEnum('BL.LogStatus',false);BL.Context=function(){}
BL.Context.get_current=function(){return BL.Context.$0;}
BL.Context.set=function(tokenId,expId,versionHash,userName){var $0=BL.Context.get_current();$0.set_expId(expId);$0.set_tokenid(tokenId);$0.set_versionHash(versionHash);$0.set_userName(userName);}
BL.Context.prototype={$1:null,$2:null,$3:0,$4:0,get_tokenid:function(){return this.$4;},set_tokenid:function(value){this.$4=value;return value;},get_expId:function(){return this.$3;},set_expId:function(value){this.$3=value;return value;},get_userName:function(){return this.$2;},set_userName:function(value){this.$2=value;return value;},get_versionHash:function(){return this.$1;},set_versionHash:function(value){this.$1=value;return value;}}
BL.StringEventArgs=function(stringValue){BL.StringEventArgs.initializeBase(this);this.$1_0=stringValue;}
BL.StringEventArgs.prototype={$1_0:null,get_value:function(){return this.$1_0;},set_value:function(value){this.$1_0=value;return value;}}
BL.IntegerEventArgs=function(number){BL.IntegerEventArgs.initializeBase(this);this.$1_0=number;}
BL.IntegerEventArgs.prototype={$1_0:0,get_selectedInt:function(){return this.$1_0;},set_selectedInt:function(value){this.$1_0=value;return value;}}
BL.Operation=function(){this.$0=[];}
BL.Operation.prototype={$0:null,$1:null,get_callbackStates:function(){return this.$0;},get_tag:function(){return this.$1;},set_tag:function(value){this.$1=value;return value;},addCallback:function(c,state){if(c!=null){var $0=new BL.CallbackState();$0.set_callback(c);$0.set_state(state);this.$0.add($0);}},complete:function(template){var $enum1=ss.IEnumerator.getEnumerator(this.$0);while($enum1.moveNext()){var $0=$enum1.current;if($0.get_callback()!=null){var $1=new BL.CallbackResult();$1.set_asyncState($0.get_state());$1.set_isCompleted(template.get_isCompleted());$1.set_completedSynchronously(template.get_completedSynchronously());$1.set_tag($0.get_tag());$0.get_callback()($1);}}}}
BL.NotifyCollectionChangedEventArgs=function(action){BL.NotifyCollectionChangedEventArgs.initializeBase(this);this.$1_0=action;}
BL.NotifyCollectionChangedEventArgs.itemAdded=function(item){var $0=new BL.NotifyCollectionChangedEventArgs(1);var $1=[];$1.add(item);$0.set_newItems($1);return $0;}
BL.NotifyCollectionChangedEventArgs.itemRemoved=function(item){var $0=new BL.NotifyCollectionChangedEventArgs(3);var $1=[];$1.add(item);$0.set_oldItems($1);return $0;}
BL.NotifyCollectionChangedEventArgs.prototype={$1_0:0,$1_1:null,$1_2:null,get_action:function(){return this.$1_0;},get_newItems:function(){return this.$1_1;},set_newItems:function(value){this.$1_1=value;return value;},get_oldItems:function(){return this.$1_2;},set_oldItems:function(value){this.$1_2=value;return value;}}
BL.PropertyChangedEventArgs=function(propertyName){BL.PropertyChangedEventArgs.initializeBase(this);this.$1_0=propertyName;}
BL.PropertyChangedEventArgs.prototype={$1_0:null,get_propertyName:function(){return this.$1_0;},set_propertyName:function(value){this.$1_0=value;return value;}}
BL.RichContentContainer=function(container){BL.RichContentContainer.initializeBase(this,[container]);this.$8=[];}
BL.RichContentContainer.prototype={$8:null,$9:false,$A:false,$B:null,get_elements:function(){return this.$8;},get_text:function(){if(this.$B==null){var $0=new ss.StringBuilder();var $enum1=ss.IEnumerator.getEnumerator(this.$8);while($enum1.moveNext()){var $1=$enum1.current;$0.append($1.get_text());}this.$B=$0.toString();}return this.$B;},set_text:function(value){this.$8.clear();var $0=new BL.RichContentRun(this);$0.set_text(value);this.$8.add($0);return value;},get_isUniform:function(){if(!this.$A){var $0=null;this.$9=true;var $enum1=ss.IEnumerator.getEnumerator(this.$8);while($enum1.moveNext()){var $1=$enum1.current;if(Type.canCast($1,BL.RichContentContainer)){this.$9=false;break;}else if(Type.canCast($1,BL.RichContentRun)){var $2=$1;if($0==null){$0=$2.get_formatHash();}else if($2.get_formatHash()!==$0){this.$9=false;break;}}}this.$A=true;}return this.$9;},addText:function(text){var $0=new BL.RichContentRun(this);$0.set_text(text);this.$8.add($0);return $0;},addLink:function(text,linkId){var $0=new BL.RichContentRun(this);$0.set_text(text);$0.set_isLink(true);$0.set_linkId(linkId);this.$8.add($0);return $0;}}
BL.RichContentDocument=function(){BL.RichContentDocument.initializeBase(this,[null]);this.$7(this);}
BL.RichContentElement=function(container){BL.RichContentElement.initializeBase(this);this.$5=container;}
BL.RichContentElement.prototype={$3:null,$4:null,$5:null,$6:null,get_foreground:function(){return this.$3;},set_foreground:function(value){this.$3=value;return value;},get_background:function(){return this.$4;},set_background:function(value){this.$4=value;return value;},get_container:function(){return this.$5;},get_document:function(){if(this.$6==null){this.$6=this.$5.get_document();}return this.$6;},$7:function($p0){this.$6=$p0;},initForSerialization:function(){BL.RichContentElement.callBaseMethod(this, 'initForSerialization');this.get_serializableType().ensureObject('foreground',null);this.get_serializableType().ensureObject('background',null);}}
BL.RichContentRun=function(container){BL.RichContentRun.initializeBase(this,[container]);}
BL.RichContentRun.prototype={$8:false,$9:null,$A:null,$B:null,get_text:function(){return this.$B;},set_text:function(value){this.$B=value;return value;},get_isLink:function(){return this.$8;},set_isLink:function(value){this.$8=value;return value;},get_linkId:function(){return this.$9;},set_linkId:function(value){this.$9=value;return value;},get_container:function(){return this.$A;},get_formatHash:function(){var $0=new ss.StringBuilder();$0.append('<F');if(this.$9!=null){$0.append(' LinkId="'+this.$9+'"');}if(!!this.$8){$0.append(' IsLink="true"');}$0.append('>');if(this.get_foreground()!=null){}if(this.get_background()!=null){}$0.append('</F>');return $0.toString();}}
BL.RichContentSection=function(container){BL.RichContentSection.initializeBase(this,[container]);}
BL.SerializableObject=function(){this.$2();}
BL.SerializableObject.prototype={$0:null,isInitializedForSerialization:false,add_propertyChanged:function(value){this.$1=ss.Delegate.combine(this.$1,value);},remove_propertyChanged:function(value){this.$1=ss.Delegate.remove(this.$1,value);},$1:null,get_serializationName:function(){return null;},get_serializableType:function(){return this.$0;},initForSerialization:function(){},getObject:function(){var $0=this.get_serializableType().get_properties();var $1={};var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;var sv=$2.get_name();var sd=$2.getShortTypeName();var st=$2.get_type();var fn=this['get_'+sd+'_'+sv];if (fn != null) { 
                if (st==10) {var val=fn.apply(this); var arr = new Array(); var enumer=ss.IEnumerator.getEnumerator(val); while (enumer.moveNext()) { arr.push(enumer.current.getObject()); } $1[$2.get_name()]=arr;  }
                else if (st==5) {var val=fn.apply(this); if (val != null) { val = val.getObject(); $1[$2.get_name()]=arr; }  }
                else {var val=fn.apply(this);if (val != null){$1[$2.get_name()]=val;}}};}return $1;},applyObject:function(o){var $0=this.get_serializableType().get_properties();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;var sv = $1.get_name();var sd=$1.getShortTypeName();var st=$1.get_type(); if (st==6) 
{var fn=this['get_'+sd+'_'+sv];if (fn != null) { var coll=fn.apply(this); if (coll != null) {var val = o[sv]; if (!(val === undefined)) {coll.clear(); for (var i=0; i<val.length; i++) { var item=val[i]; coll.add(item); } }  } }  } else if (st==10)
{var fn=this['get_'+sd+'_'+sv];if (fn != null) { var coll=fn.apply(this); if (coll != null) {var val = o[sv]; if (!(val === undefined)) {coll.clear(); for (var i=0; i<val.length; i++) { var item=val[i]; var newobj = coll.create(); newobj.applyObject(item); coll.add(newobj); } }  } }  } else if (st == 7)
{var fn=this['set_'+sd+'_'+sv];if (fn != null) { var val = new Date(o[sv]); if (!(val === undefined)) { fn.apply(this, [val]); }}} else
{var fn=this['set_'+sd+'_'+sv];if (fn != null) { var val = o[sv]; if (!(val === undefined)) { fn.apply(this, [val]); }}};}},setProperty:function(propertyName,value){var $0=this.get_serializableType().getProperty(propertyName);if($0==null){return;}var $1=propertyName.charCodeAt(0);if($1>=65&&$1<93){propertyName=String.fromCharCode($1+32)+propertyName.substring(1,propertyName.length);}value=$0.getValue(value);var fn = this['set_' + $0.getShortTypeName() + '_' + $0.get_name()];  if (fn != null) {fn.apply(this, [value] );};},$2:function(){if(!this.isInitializedForSerialization){this.isInitializedForSerialization=true;var $0=Type.getInstanceType(this);this.$0=BL.SerializableTypeManager.get_current().getTypeByName($0.get_fullName());if(this.$0==null){this.$0=BL.SerializableTypeManager.get_current().ensure($0);this.$0.set_tagName(this.get_serializationName());this.$0.beginInit();for (var s in this)  { if (s.length > 6) { if (s.substring(0,4) == "get_" && s.charAt(5) == '_') { var sp = new BL.SerializableProperty(); sp.set_name(s.substring(6, s.length)); sp.setTypeByShortName(s.charAt(4)); this.$0.addProperty(sp); }}};this.initForSerialization();this.$0.endInit();}}},notifyPropertyChanged:function(propertyName){if(this.$1!=null){var $0=new BL.PropertyChangedEventArgs(propertyName);this.$1(this,$0);}}}
BL.SerializableProperty=function(){this.$5=0;}
BL.SerializableProperty.prototype={$0:true,$1:null,$2:null,$3:null,$4:null,$6:false,$7:false,$8:null,get_itemType:function(){return this.$8;},set_itemType:function(value){this.$8=value;return value;},get_containerNodeName:function(){return this.$3;},set_containerNodeName:function(value){this.$3=value;return value;},get_propertyToAddObjectTo:function(){return this.$2;},set_propertyToAddObjectTo:function(value){this.$2=value;return value;},get_type:function(){return this.$5;},set_type:function(value){this.$5=value;return value;},get_itemName:function(){return this.$4;},set_itemName:function(value){this.$4=value;return value;},get_isSerializableObject:function(){return this.$7;},get_isAttribute:function(){return this.$0;},set_isAttribute:function(value){this.$0=value;return value;},get_isComplex:function(){return this.$6;},get_name:function(){return this.$1;},set_name:function(value){this.$1=value;return value;},$9:function(){},getShortTypeName:function(){switch(this.$5){case 0:return 's';case 7:return 'd';case 8:return 'y';case 1:return 'i';case 5:return 'o';case 10:return 'p';case 6:return 'q';case 3:return 'b';case 4:return 'n';case 9:return 'u';}return '@';},setTypeByShortName:function(shortName){switch(shortName){case 's':this.$5=0;break;case 'p':this.$5=10;break;case 'q':this.$5=6;break;case 'u':this.$5=9;break;case 'i':this.$5=1;break;case 'y':this.$5=8;break;case 'd':this.$5=7;break;case 'n':this.$5=4;break;case 'o':this.$5=5;break;case 'b':this.$5=3;break;}},getValue:function(value){try{if(this.get_type()===3){if(Type.canCast(value,String)){value=Boolean.parse(value);}}else if(this.get_type()===1){if(Type.canCast(value,String)){value=parseInt(value);}}else if(this.get_type()===4){if(Type.canCast(value,String)){value=parseFloat(value);}}else if(this.get_type()===7){if(Type.canCast(value,String)){value=Date.parseDate(value);}}}catch($0){value=null;}return value;},$A:function($p0,$p1){},$B:function($p0){return null;}}
BL.SerializableType=function(stm,t){this.$4=stm;this.$0=t;this.$1={};this.$2=[];}
BL.SerializableType.prototype={$0:null,$1:null,$2:null,$3:null,$4:null,get_properties:function(){return this.$2;},get_type:function(){return this.$0;},get_tagName:function(){if(this.$3!=null){return this.$3;}return this.$0.get_fullName();},set_tagName:function(value){this.$3=value;return value;},ensurePropertyLocal:function(sp){},beginInit:function(){},endInit:function(){},ensureScalarCollection:function(propertyName,itemName,containerNodeName,propertyToAddObjectTo,itemTypeName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}if(itemName==null){itemName=propertyName;}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(false);$1.set_type(6);$1.set_containerNodeName(containerNodeName);$1.set_propertyToAddObjectTo(propertyToAddObjectTo);$1.set_itemName(itemName);$1.set_itemType(Type.getType(itemTypeName));this.addProperty($1);return $1;},addProperty:function(sp){this.ensurePropertyLocal(sp);this.$1[sp.get_name().toLowerCase()]=sp;this.$2.add(sp);},ensureObject:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_type(5);$1.set_isAttribute(false);this.addProperty($1);return $1;},ensureEnum:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(true);$1.set_type(2);this.addProperty($1);return $1;},ensureInteger:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}if(serializationName==null){serializationName=propertyName;}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(true);$1.set_type(1);this.addProperty($1);return $1;},ensureDouble:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}if(serializationName==null){serializationName=propertyName;}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(true);$1.set_type(4);this.addProperty($1);return $1;},ensureBoolean:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}if(serializationName==null){serializationName=propertyName;}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(true);this.addProperty($1);return $1;},ensureString:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}var $1=new BL.SerializableProperty();$1.set_name(propertyName);$1.set_isAttribute(true);this.addProperty($1);return $1;},getProperty:function(propertyName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}return null;},ensureProperty:function(propertyName,serializationName){var $0=propertyName.toLowerCase();if(Object.keyExists(this.$1,$0)){return this.$1[$0];}var $1=new BL.SerializableProperty();$1.set_name(propertyName);this.addProperty($1);return $1;}}
BL.SerializableTypeManager=function(){this.$1={};}
BL.SerializableTypeManager.get_current=function(){if(BL.SerializableTypeManager.$0==null){BL.SerializableTypeManager.$0=new BL.SerializableTypeManager();}return BL.SerializableTypeManager.$0;}
BL.SerializableTypeManager.prototype={$1:null,$2:null,hasType:function(typeName){return Object.keyExists(this.$1,typeName);},getTypeByName:function(typeName){if(Object.keyExists(this.$1,typeName)){return this.$1[typeName];}return null;},ensure:function(t){var $0=t.get_fullName();var $1=null;if(Object.keyExists(this.$1,$0)){$1=this.$1[$0];}else{$1=new BL.SerializableType(this,t);this.$2=null;this.$1[$0]=$1;}return $1;},ensureSerializableType:function(o){var $0=Type.getInstanceType(o);var $1=$0.get_fullName();var $2=null;if(Object.keyExists(this.$1,$1)){$2=this.$1[$1];}else{$2=new BL.SerializableType(this,$0);this.$2=null;this.$1[$1]=$2;}return $2;},$3:function(){if(this.$2==null){this.$2=new Array(Object.getKeyCount(this.$1));var $0=0;var $dict1=this.$1;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};var $2=$1.value;this.$2[$0]=$2.get_type();$0++;}}return this.$2;}}
BL.Utilities=function(){}
BL.Utilities.getString=function(value){return value.toString();}
BL.Utilities.initialize=function(){if(BL.Utilities.$1){return;}if(BL.Utilities.$0==null){BL.Utilities.$0='1.0.0.0';}BL.Utilities.$1=true;}
BL.Utilities.$2=function(){BL.Utilities.$0=BL.Utilities.createRandomId();}
BL.Utilities.get_versionHash=function(){if(BL.Utilities.$0==null){BL.Utilities.initialize();}return BL.Utilities.$0;}
BL.Utilities.getMonthName=function(monthId){switch(monthId){case 1:return 'January';case 2:return 'February';case 3:return 'March';case 4:return 'April';case 5:return 'May';case 6:return 'June';case 7:return 'July';case 8:return 'August';case 9:return 'September';case 10:return 'October';case 11:return 'November';case 12:return 'December';default:throw new Error('');}}
BL.Utilities.createRandomId=function(){var $0='';for(var $1=0;$1<6;$1++){var $2=Math.random()%8;if($2<=1&&$1>0){$0+=String.fromCharCode((Math.random()*10)+48);}else if($2<=4){$0+=String.fromCharCode((Math.random()*26)+97);}else{$0+=String.fromCharCode((Math.random()*26)+65);}}return $0;}
BL.Utilities.prePad=function(str,c,length){while(str.length<length){str=c+str;}return str;}
BL.Utilities.getRandomId=function(){var $0='';for(var $1=0;$1<4;$1++){var $2=Math.random()*3;if($2<1){var $3=Math.floor(Math.random()*26);$0+=String.fromCharCode($3+65);}else if($2<2){var $4=Math.floor(Math.random()*26);$0+=String.fromCharCode($4+97);}else{var $5=Math.floor(Math.random()*10);$0+=String.fromCharCode($5+48);}}return $0;}
BL.Utilities.getHMSMFromDateTime=function(dt){var $0='';$0+=BL.Utilities.prePad(dt.getHours().toString(),'0',2)+':';$0+=BL.Utilities.prePad(dt.getMinutes().toString(),'0',2)+':';$0+=BL.Utilities.prePad(dt.getSeconds().toString(),'0',2)+':';$0+=BL.Utilities.prePad(dt.getMilliseconds().toString(),'0',3);return $0;}
BL.Utilities.byteSubtract=function(start,valueToSubtract){var $0=start-valueToSubtract;if($0<0){$0=0;}return temp;;return 0;}
BL.Utilities.byteAdd=function(start,valueToAdd){var $0=start+valueToAdd;if($0>255){$0=255;}return temp;;return 0;}
BL.CallbackResult=function(){}
BL.CallbackResult.prototype={$0:null,$1:false,$2:false,$3:null,$4:null,$5:null,get_errorMessage:function(){return this.$5;},set_errorMessage:function(value){this.$5=value;return value;},get_asyncState:function(){return this.$0;},set_asyncState:function(value){this.$0=value;return value;},get_completedSynchronously:function(){return this.$1;},set_completedSynchronously:function(value){this.$1=value;return value;},get_isCompleted:function(){return this.$2;},set_isCompleted:function(value){this.$2=value;return value;},get_data:function(){return this.$4;},set_data:function(value){this.$4=value;return value;},get_tag:function(){return this.$3;},set_tag:function(value){this.$3=value;return value;}}
BL.CallbackState=function(){}
BL.CallbackState.wrap=function(callback,state){var $0=new BL.CallbackState();$0.set_callback(callback);$0.set_state(state);return $0;}
BL.CallbackState.wrapWithTag=function(callback,state,tag){var $0=new BL.CallbackState();$0.set_callback(callback);$0.set_state(state);$0.set_tag(tag);return $0;}
BL.CallbackState.unwrapAndExecuteCallbacksWithTag=function(result,tag){if(Type.canCast(result.get_asyncState(),BL.CallbackState)){var $0=result.get_asyncState();if($0.get_callback()!=null){var $1=new BL.CallbackResult();$1.set_completedSynchronously(result.get_completedSynchronously());$1.set_isCompleted(result.get_isCompleted());$1.set_data(result.get_data());$1.set_asyncState($0.get_state());$1.set_tag(tag);$0.get_callback()($1);}}}
BL.CallbackState.unwrapAndExecuteCallbacksAsError=function(result){if(Type.canCast(result,BL.CallbackResult)){BL.CallbackState.unwrapAndExecuteCallbacksAsErrorWithMessage(result,(result).get_errorMessage());}else{BL.CallbackState.unwrapAndExecuteCallbacksAsErrorWithMessage(result,null);}}
BL.CallbackState.unwrapAndExecuteCallbacksAsErrorWithMessage=function(result,errorMessage){if(Type.canCast(result.get_asyncState(),BL.CallbackState)){var $0=result.get_asyncState();if($0.get_callback()!=null){var $1=new BL.CallbackResult();$1.set_completedSynchronously(result.get_completedSynchronously());$1.set_isCompleted(false);$1.set_errorMessage(errorMessage);$1.set_data(result.get_data());$1.set_asyncState($0.get_state());if(Type.canCast(result,BL.CallbackResult)){$1.set_tag((result).get_tag());}$0.get_callback()($1);}}}
BL.CallbackState.unwrapAndExecuteCallbacks=function(result){if(Type.canCast(result.get_asyncState(),BL.CallbackState)){var $0=result.get_asyncState();if($0.get_callback()!=null){var $1=new BL.CallbackResult();$1.set_completedSynchronously(result.get_completedSynchronously());$1.set_isCompleted(result.get_isCompleted());$1.set_data(result.get_data());$1.set_asyncState($0.get_state());if(Type.canCast(result,BL.CallbackResult)){$1.set_tag((result).get_tag());}$0.get_callback()($1);}}}
BL.CallbackState.prototype={$0:null,$1:null,$2:null,get_callback:function(){return this.$0;},set_callback:function(value){this.$0=value;return value;},get_state:function(){return this.$1;},set_state:function(value){this.$1=value;return value;},get_tag:function(){return this.$2;},set_tag:function(value){this.$2=value;return value;}}
BL.ColorDefinition=function(){BL.ColorDefinition.initializeBase(this);}
BL.ColorDefinition.prototype={$3:0,$4:0,$5:0,get_y_red:function(){return this.$3;},set_y_red:function(value){this.$3=value;return value;},get_y_green:function(){return this.$4;},set_y_green:function(value){this.$4=value;return value;},get_y_blue:function(){return this.$5;},set_y_blue:function(value){this.$5=value;return value;},initForSerialization:function(){BL.ColorDefinition.callBaseMethod(this, 'initForSerialization');this.get_serializableType().ensureString('red','R');this.get_serializableType().ensureString('green','G');this.get_serializableType().ensureString('blue','B');},createColorInt:function(){return this.createColorIntWithAlpha(255);},createColorIntWithAlpha:function(alpha){throw new Error('Unimplemented');return -1;}}
BL.Log=function(){}
BL.Log.get_items=function(){return BL.Log.$0;}
BL.Log.add_itemAdded=function(value){BL.Log.$2=ss.Delegate.combine(BL.Log.$2,value);}
BL.Log.remove_itemAdded=function(value){BL.Log.$2=ss.Delegate.remove(BL.Log.$2,value);}
BL.Log.enterScope=function(id){}
BL.Log.enterScopeMessage=function(id,message){BL.Log.$1[id]=Date.get_now();if(message!=null){BL.Log.full(id,message,16);}}
BL.Log.endScope=function(id,message){var $0=Date.get_now();var $1='';var $2=-1;if(Object.keyExists(BL.Log.$1,id)){}else{$1='unk';}BL.Log.$1[id]=Date.get_now();if(message!=null){BL.Log.fullTime(id,String.format(message,$1),null,32,$2,null);}}
BL.Log.debugMessageStatus=function(message,status){BL.Log.full(null,message,status);}
BL.Log.debugMessage=function(message){BL.Log.fullTime(null,message,null,4,-1,null);}
BL.Log.detailedMessage=function(message,details){BL.Log.fullTime(null,message,null,2,-1,details);}
BL.Log.detailedDocument=function(document,details){BL.Log.fullTime(null,null,document,2,-1,details);}
BL.Log.message=function(message){BL.Log.fullTime(null,message,null,4,-1,null);}
BL.Log.error=function(message){BL.Log.fullTime(null,message,null,8,-1,null);}
BL.Log.full=function(id,message,status){BL.Log.fullTime(id,message,null,status,-1,null);}
BL.Log.fullTime=function(id,message,document,status,timeTaken,details){var $0=new BL.LogItem(message,document,status,timeTaken,null);$0.set_id(id);$0.set_details(details);BL.Log.$0.add($0);if(BL.Log.$2!=null){var $1=new BL.LogItemEventArgs($0);BL.Log.$2($0,$1);}}
BL.LogItem=function(message,document,status,timeTaken,details){this.$0=Date.get_now();this.$1=message;this.$2=document;this.$3=status;this.$4=timeTaken;this.$5=details;}
BL.LogItem.prototype={$0:null,$1:null,$2:null,$3:0,$4:0,$5:null,id:null,get_id:function(){if(this.id==null){this.id=BL.Utilities.createRandomId();}return this.id;},set_id:function(value){this.id=value;return value;},get_hasId:function(){return this.id!=null;},get_created:function(){return this.$0;},get_document:function(){if(this.$2==null&&this.$1!=null){this.$2=new BL.RichContentDocument();this.$2.set_text(this.$1);}return this.$2;},get_message:function(){return this.$1;},get_status:function(){return this.$3;},get_timeTaken:function(){return this.$4;},get_details:function(){return this.$5;},set_details:function(value){this.$5=value;return value;}}
BL.LogItemEventArgs=function(item){BL.LogItemEventArgs.initializeBase(this);this.$1_0=item;}
BL.LogItemEventArgs.prototype={$1_0:null,get_item:function(){return this.$1_0;},set_item:function(value){this.$1_0=value;return value;}}
Type.registerNamespace('Bendyline.Base');Bendyline.Base.HtmlUtilities=function(){}
Bendyline.Base.HtmlUtilities.setInnerHtml=function(e,html){if (typeof window.toStaticHTML == "undefined") {e.innerHTML=html;} else {e.innerHTML=window.toStaticHTML(html);};}
Bendyline.Base.JsonUtilities=function(){}
Bendyline.Base.JsonUtilities.encode=function(value){if(value==null){return null;}value=value.replaceAll('"','\\"');return value;}
Bendyline.Base.TextUtilities=function(){}
Bendyline.Base.TextUtilities.getContentsInBetween=function(source,start,end){var $0=source.indexOf(start);if($0>=0){var $1=source.indexOf(end,$0+1);if($1>=0){return source.substring($0+start.length,$1-($0+start.length));}}return null;}
Bendyline.Base.UrlUtilities=function(){}
Bendyline.Base.UrlUtilities.ensurePathDoesNotEndWithSlash=function(path){if(path.endsWith('/')){path=path.substring(0,path.length-1);}return path;}
Bendyline.Base.UrlUtilities.getCanonicalBaseUrl=function(url){var $0=url.indexOf('/',8);if($0>=0){url=url.substring(0,$0+1);}return url.toLowerCase();}
Bendyline.Base.UrlUtilities.ensurePathEndsWithSlash=function(path){if(!path.endsWith('/')){path+='/';}return path;}
Bendyline.Base.UrlUtilities.ensurePathDoesNotStartWithSlash=function(path){if(path.startsWith('/')){path=path.substring(1,path.length);}return path;}
Bendyline.Base.UrlUtilities.ensurePathStartsWithSlash=function(path){if(!path.startsWith('/')){path='/'+path;}return path;}
BL.Context.registerClass('BL.Context');BL.StringEventArgs.registerClass('BL.StringEventArgs',ss.EventArgs);BL.IntegerEventArgs.registerClass('BL.IntegerEventArgs',ss.EventArgs);BL.Operation.registerClass('BL.Operation');BL.NotifyCollectionChangedEventArgs.registerClass('BL.NotifyCollectionChangedEventArgs',ss.EventArgs);BL.PropertyChangedEventArgs.registerClass('BL.PropertyChangedEventArgs',ss.EventArgs);BL.SerializableObject.registerClass('BL.SerializableObject');BL.RichContentElement.registerClass('BL.RichContentElement',BL.SerializableObject);BL.RichContentContainer.registerClass('BL.RichContentContainer',BL.RichContentElement);BL.RichContentSection.registerClass('BL.RichContentSection',BL.RichContentContainer);BL.RichContentDocument.registerClass('BL.RichContentDocument',BL.RichContentSection);BL.RichContentRun.registerClass('BL.RichContentRun',BL.RichContentElement);BL.SerializableProperty.registerClass('BL.SerializableProperty');BL.SerializableType.registerClass('BL.SerializableType');BL.SerializableTypeManager.registerClass('BL.SerializableTypeManager');BL.Utilities.registerClass('BL.Utilities');BL.CallbackResult.registerClass('BL.CallbackResult',null,BL.IAsyncResult);BL.CallbackState.registerClass('BL.CallbackState');BL.ColorDefinition.registerClass('BL.ColorDefinition',BL.SerializableObject);BL.Log.registerClass('BL.Log');BL.LogItem.registerClass('BL.LogItem');BL.LogItemEventArgs.registerClass('BL.LogItemEventArgs',ss.EventArgs);Bendyline.Base.HtmlUtilities.registerClass('Bendyline.Base.HtmlUtilities');Bendyline.Base.JsonUtilities.registerClass('Bendyline.Base.JsonUtilities');Bendyline.Base.TextUtilities.registerClass('Bendyline.Base.TextUtilities');Bendyline.Base.UrlUtilities.registerClass('Bendyline.Base.UrlUtilities');BL.Context.$0=new BL.Context();BL.SerializableTypeManager.$0=null;BL.Utilities.$0=null;BL.Utilities.$1=false;BL.Log.$0=null;BL.Log.$1=null;BL.Log.$2=null;(function(){BL.Log.$0=[];BL.Log.$1={};})();
})();// This script was generated using Script# v0.7.4.0
// bl.ui.js
(function(){
Type.registerNamespace('BL');BL.ContentItemControl=function(){BL.ContentItemControl.initializeBase(this);}
BL.ContentItemControl.prototype={$1_24:null,e_title:null,get_s_title:function(){return this.$1_24;},set_s_title:function(value){this.$1_24=value;this.onUpdate();return value;},onUpdate:function(){BL.ContentItemControl.callBaseMethod(this, 'onUpdate');if(this.e_title!=null){this.e_title.innerText=this.$1_24;}}}
BL.ControlValueEventArgs=function(c){BL.ControlValueEventArgs.initializeBase(this);this.c=c;}
BL.ControlValueEventArgs.prototype={c:null,id:null,$1_0:null,get_value:function(){return this.$1_0;},set_value:function(value){this.$1_0=value;return value;},get_id:function(){if(this.id==null&&this.c!=null){return this.c.get_s_id();}return this.id;},set_id:function(value){this.id=value;return value;},get_control:function(){return this.c;},set_control:function(value){this.c=value;return value;}}
BL.ElementContentItemControl=function(){BL.ElementContentItemControl.initializeBase(this);}
BL.ElementContentItemControl.prototype={$1_24:null,get_s_title:function(){return this.$1_24;},set_s_title:function(value){this.$1_24=value;this.update();return value;},onEnsureElements:function(){BL.ElementContentItemControl.callBaseMethod(this, 'onEnsureElements');},onUpdate:function(){if(this.$1_24!=null){this.get_element().innerText=this.$1_24;}}}
BL.ControlEventArgs=function(c){BL.ControlEventArgs.initializeBase(this);this.c=c;}
BL.ControlEventArgs.prototype={c:null,id:null,get_id:function(){if(this.id==null&&this.c!=null){return this.c.get_s_id();}return this.id;},set_id:function(value){this.id=value;return value;},get_control:function(){return this.c;},set_control:function(value){this.c=value;return value;}}
Type.registerNamespace('BL.UI');BL.UI.TemplateParserMode=function(){};BL.UI.TemplateParserMode.prototype = {normal:0,items:1}
BL.UI.TemplateParserMode.registerEnum('BL.UI.TemplateParserMode',false);BL.UI.IControlFactory=function(){};BL.UI.IControlFactory.registerInterface('BL.UI.IControlFactory');BL.UI.ContentItem=function(){}
BL.UI.ContentItem.prototype={iconImage:null,mainImage:null,id:null,content:null,title:null,url:null,videoUrl:null,templateId:null,data:null,updateTime:null}
BL.UI.ContentItemSet=function(){this.items=[];}
BL.UI.ContentItemSet.prototype={items:null}
BL.UI.ControlManager=function(){this.$0={};}
BL.UI.ControlManager.get_current=function(){return BL.UI.ControlManager.$1;}
BL.UI.ControlManager.prototype={$0:null,create:function(fullControlName){var $0=null;if($0==null){$0=eval('new '+fullControlName+'()');}return $0;},createControlFromFullName:function(fullName){var $0=fullName.lastIndexOf('.');if($0<0){return null;}var $1=fullName.substring(0,$0);var $2=fullName.substring($0+1,fullName.length);return this.createControl($1,$2);},createControl:function(controlNamespace,controlName){controlNamespace=controlNamespace.toLowerCase();controlName=controlName.toLowerCase();if(Object.keyExists(this.$0,controlNamespace)){var $0=this.$0[controlNamespace];return $0.createControl(controlName);}return null;},register:function(factory){this.$0[factory.get_namespace()]=factory;}}
BL.UI.BaseControlFactory=function(){}
BL.UI.BaseControlFactory.prototype={get_namespace:function(){return 'BL.UI';},createControl:function(controlName){switch(controlName){case 'literalcontrol':return new BL.UI.LiteralControl();}return null;}}
BL.UI.DebugPanel=function(){BL.UI.DebugPanel.initializeBase(this);this.$1_25=new BL.UI.ContentItemSet();BL.Log.add_itemAdded(ss.Delegate.create(this,this.$1_29));this.set_trackResizeEvents(true);}
BL.UI.DebugPanel.prototype={c_logList:null,$1_24:0,$1_25:null,e_collapse:null,$1_26:true,add_toggled:function(value){this.$1_27=ss.Delegate.combine(this.$1_27,value);},remove_toggled:function(value){this.$1_27=ss.Delegate.remove(this.$1_27,value);},$1_27:null,get_isExpanded:function(){return this.$1_26;},set_isExpanded:function(value){this.$1_26=value;if(this.$1_26===value){this.get_element().style.posWidth=280;}else{this.get_element().style.posWidth=0;}if(this.$1_27!=null){this.$1_27(this,ss.EventArgs.Empty);}return value;},onInit:function(){BL.UI.DebugPanel.callBaseMethod(this, 'onInit');window.addEventListener('resize',ss.Delegate.create(this,this.$1_28),true);},$1_28:function($p0){this.onResize();},onResize:function(){BL.UI.DebugPanel.callBaseMethod(this, 'onResize');this.c_logList.get_element().style.height=window.innerHeight+'px';this.e_collapse.style.posLeft=window.innerWidth-30;},$1_29:function($p0,$p1){var $0=new BL.UI.ContentItem();$0.id=this.$1_24.toString();$0.title=$p1.get_item().get_message();this.$1_25.items.insert(0,$0);this.$1_24++;if(this.c_logList!=null){this.c_logList.notifyItemUpdated($0);}},onApplyTemplate:function(){BL.UI.DebugPanel.callBaseMethod(this, 'onApplyTemplate');if(this.c_logList!=null){this.c_logList.set_listItems(this.$1_25);}if(this.e_collapse!=null){this.e_collapse.addEventListener('click',ss.Delegate.create(this,this.$1_2A),true);}},$1_2A:function($p0){this.set_isExpanded(!this.get_isExpanded());},onUpdate:function(){BL.UI.DebugPanel.callBaseMethod(this, 'onUpdate');}}
Facer=function(){}
Facer.attachToElements=function(){var $0=document.body.querySelectorAll('div[data-bl-type]');Facer.$0($0);}
Facer.$0=function($p0){for(var $0=0;$0<$p0.length;$0++){var $1=$p0[$0];var $2=$1.attributes.getNamedItem('data-bl-type');if($2!=null){if(!String.isNullOrEmpty($2.value)){var $3=BL.UI.ControlManager.get_current().create($2.value);if($3!=null){$3.attachToElement($1);}}}}}
BL.UI.ListItem=function(){BL.UI.ListItem.initializeBase(this);}
BL.UI.ListItem.prototype={$1_24:null,e_title:null,e_content:null,e_image:null,get_defaultClass:function(){return 'row';},get_item:function(){return this.$1_24;},set_item:function(value){this.$1_24=value;if(this.$1_24.templateId!=null){this.set_s_templateId(this.$1_24.templateId);}this.update();return value;},onUpdate:function(){BL.UI.ListItem.callBaseMethod(this, 'onUpdate');if(this.$1_24==null){return;}if(this.e_title!=null){this.e_title.innerText=this.$1_24.title;}if(this.e_content!=null){this.e_content.innerText=this.$1_24.content;}if(this.e_image!=null){if(this.$1_24.mainImage==null){this.e_image.style.display='none';}else{this.e_image.style.display='block';this.e_image.src=this.$1_24.mainImage;}}}}
BL.UI.List=function(){BL.UI.List.initializeBase(this);this.$1_2A={};}
BL.UI.List.prototype={$1_29:null,$1_2A:null,get_listItems:function(){return this.$1_29;},set_listItems:function(value){this.$1_29=value;this.update();return value;},onUpdate:function(){if(this.get_listItems()!=null){var $enum1=ss.IEnumerator.getEnumerator(this.get_listItems().items);while($enum1.moveNext()){var $0=$enum1.current;this.notifyItemUpdated($0);}}},$1_2B:function($p0){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.$1_29.items);while($enum1.moveNext()){var $1=$enum1.current;if($1===$p0){return $0;}$0++;}return $0;},notifyItemUpdated:function(ci){var $0=this.$1_2A[ci.id];if($0==null){$0=new BL.UI.ListItem();var $1=this.$1_2B(ci);if(ci.templateId!=null){$0.set_s_templateId(ci.templateId);}$0.set_item(ci);this.$1_2A[ci.id]=$0;this.insertItemControl($1,$0);}}}
BL.UI.Template=function(){}
BL.UI.Template.prototype={id:null,content:null}
BL.UI.TemplateFile=function(templateManager){this.tm=templateManager;}
BL.UI.TemplateFile.prototype={$0:null,tm:null,$1:null,$2:false,get_fileName:function(){return this.$1;},set_fileName:function(value){this.$1=value;return value;},get_isLoaded:function(){return this.$2;},set_isLoaded:function(value){this.$2=value;return value;},get_operation:function(){return this.$0;},ensureRetrieving:function(id,callback,state){var $0=false;if(this.$0==null){this.$0=new BL.Operation();$0=true;}this.$0.get_callbackStates().add(BL.CallbackState.wrapWithTag(callback,state,id));if($0){$.getJSON(BL.UI.TemplateFile.rootTemplatePath+this.$1+'.t.json',ss.Delegate.create(this,this.$3));}},$3:function($p0){if($p0==null){return;}else{var $1=$p0;this.tm.addTemplates($1);this.set_isLoaded(true);}var $0=this.$0;if($0!=null){this.$0=null;var $enum1=ss.IEnumerator.getEnumerator($0.get_callbackStates());while($enum1.moveNext()){var $2=$enum1.current;var $3=new BL.CallbackResult();$3.set_data(this.tm.get_templates()[$2.get_tag()]);$3.set_isCompleted(true);$2.get_callback()($3);}}}}
BL.UI.TemplateManager=function(){this.$1={};this.$2={};}
BL.UI.TemplateManager.get_current=function(){if(BL.UI.TemplateManager.$0==null){BL.UI.TemplateManager.$0=new BL.UI.TemplateManager();}return BL.UI.TemplateManager.$0;}
BL.UI.TemplateManager.prototype={$1:null,$2:null,get_templates:function(){return this.$1;},get_templateFiles:function(){return this.$2;},addTemplateFile:function(fileName,templates){var $0=null;if(this.$2[fileName]==null){$0=new BL.UI.TemplateFile(this);fileName=fileName.toLowerCase();$0.set_fileName(fileName);$0.set_isLoaded(true);this.$2[fileName]=$0;}var $enum1=ss.IEnumerator.getEnumerator(templates);while($enum1.moveNext()){var $1=$enum1.current;this.$1[$1.id.toLowerCase()]=$1;}},addTemplates:function(templates){var $enum1=ss.IEnumerator.getEnumerator(templates);while($enum1.moveNext()){var $0=$enum1.current;this.$1[$0.id.toLowerCase()]=$0;}},getTemplateAsync:function(id,ac,state){id=id.toLowerCase();if(this.$1[id]!=null){var $2=new BL.CallbackResult();$2.set_asyncState(state);$2.set_data(this.$1[id]);$2.set_completedSynchronously(true);$2.set_isCompleted(true);ac($2);return;}var $0=id.lastIndexOf('-');if($0>=0){var $3=id.substring(0,$0).replaceAll('-','.').toLowerCase();if(Object.keyExists(this.$2,$3)){var $4=this.$2[$3];if($4.get_isLoaded()){var $5=new BL.CallbackResult();$5.set_asyncState(this.$1[id]);$5.set_data(null);$5.set_completedSynchronously(true);$5.set_isCompleted(true);ac($5);return;}else{$4.ensureRetrieving(id,ac,state);return;}}else{var $6=new BL.UI.TemplateFile(this);$6.set_fileName($3);this.$2[$3]=$6;$6.ensureRetrieving(id,ac,state);return;}}var $1=new BL.CallbackResult();$1.set_asyncState(null);$1.set_completedSynchronously(true);$1.set_isCompleted(false);ac($1);}}
BL.UI.TemplateParserResult=function(){this.$2=[];this.$1=[];this.$3=[];this.$5=[];this.$6=[];}
BL.UI.TemplateParserResult.prototype={$0:null,$1:null,$2:null,$3:null,$4:null,$5:null,$6:null,get_itemsContainer:function(){return this.$4;},set_itemsContainer:function(value){this.$4=value;return value;},get_markup:function(){return this.$0;},set_markup:function(value){this.$0=value;return value;},get_elementElementPaths:function(){return this.$5;},get_elementIds:function(){return this.$6;},get_controlElementPaths:function(){return this.$1;},get_controlIds:function(){return this.$3;},get_controls:function(){return this.$2;},addElement:function(elementPath,id){this.$5.add(elementPath);this.$6.add(id);},addControl:function(c,elementPath,id){this.$2.add(c);this.$1.add(elementPath);this.$3.add(id);}}
BL.UI.TemplateParser=function(){}
BL.UI.TemplateParser.prototype={parse:function(parentId,templateCssPrefix,markup){var $0=0;var $1=0;var $2=[];var $3=new ss.StringBuilder();var $4=0;var $5=0;var $6=[];var $7=[];var $8=null;var $9=templateCssPrefix.replaceAll('.','-').toLowerCase();$2[0]=-1;var $A=[];var $B=[];var $C=new BL.UI.TemplateParserResult();var $D=markup.indexOf('<');while($D>=0){$3.append(markup.substring($4,$D));var $E=markup.indexOf('>',$D+1);if($E>$D){$2[$0]++;if(markup.charAt($D+1)==='/'){$0--;if($2.length>=$0){$2.removeAt($2.length-1);}if($A.length>0&&$B[$B.length-1]>=$0){$B.removeAt($B.length-1);$A.removeAt($A.length-1);}var $F=markup.substring($D+2,$E);if($F.indexOf('.')>=0||$F==='Items'){var $10=$7[$7.length-1];$7.removeAt($7.length-1);if($10==null){$10='div';}if($5<=0){$3.append('</'+$10+'>');}}else if($5<=0){$3.append('</'+$F+'>');}$4=$E+1;$D=markup.indexOf('<',$4);if($1>0&&$F==='Items'){if(Type.canCast($8,BL.UI.ItemsControl)){var $enum1=ss.IEnumerator.getEnumerator($6[$1-1]);while($enum1.moveNext()){var $13=$enum1.current;($8).addItemControl($13);}}var $11=$A.length-1;var $12=$8;do{$8=$A[$11];$11--;}while($11>=0&&!(Type.canCast($8,BL.UI.ItemsControl)&&$8!==$12));$1--;$5--;}}else{var $14=null;var $15=null;var $16=null;var $17=null;var $18=(markup.charAt($E-1)==='/');var $19=markup.indexOf(' ',$D);if($19<$E&&$19>$D){$14=markup.substring($D+1,$19);$15=markup.substring($19+1,$E);$16=this.$0($15);if(Object.keyExists($16,'id')){$17=$16['id'];}}else{if($18){$14=markup.substring($D+1,$E-1);}else{$14=markup.substring($D+1,$E);}}var $1A=$14.lastIndexOf('.');if($1A>=0){var $1B=BL.UI.ControlManager.get_current().create($14);if($1B!=null){if($16!=null){this.$1($1B,$16);}$A.add($1B);$B.add($0);if($1>0){$6[$1-1].add($1B);}else{$14=$1B.get_tagName();if($14==null){$14='div';}if($5<=0){$3.append('<'+$14);}if($17!=null){$1B.set_s_id(parentId+'-'+$17);}$C.addControl($1B,$2.clone(),$17);}}else{}}else if($14==='Items'){if($A.length>0){$6[$1]=[];$1++;$8=$A[$A.length-1];}$5++;}else{if($17!=null){$C.addElement($2.clone(),$17);}if($14==='ItemsContainer'){$C.set_itemsContainer($2.clone());$14='div';}if($5<=0){$3.append('<'+$14);}}if($16!=null&&$5<=0){var $1C=$16['class'];if($1C==null){$1C='';}if($17!=null){if($1C.length>0){$1C+=' ';}$1C+=$9+'-'+$17;}if($1C.length>0){$3.append(' class="'+$1C+'"');}var $dict2=$16;for(var $key3 in $dict2){var $1D={key:$key3,value:$dict2[$key3]};if($1D.key!=='id'&&$1D.key!=='class'){$3.append(String.format(' {0}="{1}"',$1D.key,$1D.value));}}}if($18){if($A.length>0&&$B[$B.length-1]>=$0){$B.removeAt($B.length-1);$A.removeAt($A.length-1);}if($5<=0){$3.append(String.format('></{0}>',$14));}}else{if($5<=0){$3.append('>');}$0++;$7.add($14);$2[$0]=-1;}$4=$E+1;$D=markup.indexOf('<',$4);}}else{$4=$D+1;$D=markup.indexOf('<',$D+1);}}$C.set_markup($3.toString());return $C;},$0:function($p0){var $0=$p0.indexOf('=');var $1=0;var $2={};while($0>=0){var $3=$p0.charAt($0+1);var $4=$p0.indexOf($3,$0+2);if($4>$0){var $5=$p0.substring($1,$0).trim();var $6=$p0.substring($0+2,$4);$2[$5]=$6;$1=$4+2;$0=$p0.indexOf('=',$1);}else{$0=$p0.indexOf('=',$0+1);}}return $2;},$1:function($p0,$p1){var $dict1=$p1;for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};if(!this.$2($0.key)){$p0.setProperty($0.key,$0.value);}}},$2:function($p0){if($p0==='id'||$p0==='style'||$p0==='class'||$p0==='width'||$p0==='height'){return true;}return false;}}
BL.UI.Control=function(){BL.UI.Control.initializeBase(this);}
BL.UI.Control.prototype={$1_0:null,$1_1:null,$1_2:null,$1_3:null,$1_4:null,$1_5:null,$1_6:false,$1_7:false,$1_8:false,$1_9:null,$1_A:null,$1_B:null,$1_C:null,id:null,$1_D:true,trackResizeEvents:false,$1_E:false,$1_F:null,$1_10:null,$1_11:null,$1_12:false,$1_13:false,$1_14:false,get_s_templateId:function(){if(this.$1_4==null){this.$1_4=Type.getInstanceType(this).get_fullName().replaceAll('.','-').toLowerCase();}return this.$1_4;},set_s_templateId:function(value){this.$1_4=value;this.$1_12=false;return value;},get_template:function(){return this.$1_5;},set_template:function(value){this.$1_5=value;this.$1_12=false;return value;},get_i_width:function(){return this.$1_11;},set_i_width:function(value){this.$1_11=value;return value;},get_tagName:function(){return null;},get_i_height:function(){return this.$1_10;},set_i_height:function(value){this.$1_10=value;var $0=this.get_element();if($0!=null){$0.style.posHeight=this.$1_10;}return value;},get_j:function(){if(this.$1_C==null){this.$1_C=$(this.$1_0);}return this.$1_C;},get_effectiveHeight:function(){if(this.$1_10!=null){return this.$1_10;}var $0=this.get_element();if($0!=null){return $0.scrollHeight;}return 0;},get_trackInteractionEvents:function(){return this.$1_13;},set_trackInteractionEvents:function(value){this.$1_13=value;this.$1_19();return value;},get_trackResizeEvents:function(){return this.trackResizeEvents;},set_trackResizeEvents:function(value){this.trackResizeEvents=value;this.$1_22();return value;},get_b_visible:function(){return this.$1_D;},set_b_visible:function(value){this.$1_D=value;this.$1_20();return value;},get_s_id:function(){if(this.id==null){this.ensureId();}return this.id;},set_s_id:function(value){this.id=value;return value;},get_defaultClass:function(){return null;},get_className:function(){return this.$1_B;},set_className:function(value){this.$1_B=value;this.$1_1A();return value;},get_typeId:function(){if(this.$1_A==null){this.$1_A=Type.getInstanceType(this).get_fullName().replaceAll('.','-').toLowerCase();}return this.$1_A;},get_innerHtml:function(){return this.$1_9;},set_innerHtml:function(value){this.$1_9=value;if(this.get_elementsEnsured()){Bendyline.Base.HtmlUtilities.setInnerHtml(this.get_contentElement(),value);}return value;},get_templateControls:function(){if(this.$1_2==null){this.$1_2=[];}return this.$1_2;},get_templateElements:function(){if(this.$1_3==null){this.$1_3=[];}return this.$1_3;},get_initted:function(){return this.$1_6;},get_elementsEnsured:function(){return this.$1_8;},get_childControlsCreated:function(){return this.$1_7;},get_element:function(){return this.$1_0;},set_element:function(value){if(this.$1_0===value){return;}this.$1_14=false;this.$1_0=value;this.$1_C=null;this.$1_19();this.ensureElements();return value;},get_contentElement:function(){if(this.$1_1==null){return this.$1_0;}return this.$1_1;},set_contentElement:function(value){if(this.$1_1===value){return;}this.$1_1=value;return value;},$1_15:function($p0){this.onClick($p0);},onClick:function(e){},$1_16:function($p0){this.onMouseOver($p0);},onMouseOver:function(e){},$1_17:function($p0){this.onMouseOut($p0);},onMouseOut:function(e){},$1_18:function($p0){this.onMouseMove($p0);},onMouseMove:function(e){},$1_19:function(){if(!this.$1_13){if(this.$1_14){this.$1_0.removeEventListener('click',ss.Delegate.create(this,this.$1_15),true);this.$1_0.removeEventListener('mouseover',ss.Delegate.create(this,this.$1_16),true);this.$1_0.removeEventListener('mouseout',ss.Delegate.create(this,this.$1_17),true);this.$1_0.removeEventListener('mousemove',ss.Delegate.create(this,this.$1_18),true);this.$1_14=false;}return;}if(!this.$1_14&&this.$1_0!=null){this.$1_0.addEventListener('click',ss.Delegate.create(this,this.$1_15),true);this.$1_0.addEventListener('mouseover',ss.Delegate.create(this,this.$1_16),true);this.$1_0.addEventListener('mouseout',ss.Delegate.create(this,this.$1_17),true);this.$1_0.addEventListener('mousemove',ss.Delegate.create(this,this.$1_18),true);this.$1_14=true;}},$1_1A:function(){if(this.get_element()!=null){if(this.$1_B!=null){this.get_element().className=this.get_typeId()+' '+this.$1_B;}else if(this.get_defaultClass()!=null){this.get_element().className=this.get_typeId()+' '+this.get_defaultClass();}else{this.get_element().className=this.get_typeId();}}},getElementClass:function(componentName){var $0=componentName.split(' ');var $1='';var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;if($1.length>0){$1+=' ';}$1+=this.get_typeId()+'-'+$2;}return $1;},ensureId:function(){if(this.id!=null){return;}if(this.get_element()!=null){this.id=this.get_element().id;}if(this.id==null){this.id=BL.Utilities.createRandomId();if(this.get_element()!=null){this.get_element().id=this.id;}}},attachToElement:function(e){this.$1_0=e;this.$1_1B();this.$1_19();if(this.get_element()!=null){this.ensureElements();}},$1_1B:function(){var $0=this.$1_0.attributes;for(var $1=0;$1<$0.length;$1++){var $2=null;$2=$0[$1];var $3=$2.name;if($3.startsWith('data-bl-')){var $4=$3.substring(8,$3.length);if($4!=='type'){this.setProperty($4,$2.value);}}}},attachTo:function(elementOrId,options){if (elementOrId != null) { if (elementOrId.tagName != null) { this.$1_0 = elementOrId; } if (typeof(elementOrId) == "string") { this.$1_0 = document.getElementById(elementOrId); }};this.$1_19();if(this.get_element()!=null){this.ensureElements();}},init:function(){if(this.$1_6||this.$1_0==null){return;}this.onInit();this.$1_6=true;},onApplyTemplate:function(){},createChildControls:function(){if(!this.$1_6){this.init();}if(!this.$1_7){this.onCreateChildControls();}this.$1_7=true;},$1_1C:function(){if(this.$1_12){return;}if(this.get_template()!=null){this.$1_12=true;this.$1_1E();return;}var $0=this.get_s_templateId();if($0!=null){this.$1_12=true;BL.UI.TemplateManager.get_current().getTemplateAsync($0,ss.Delegate.create(this,this.$1_1D),null);}},$1_1D:function($p0){var $0=$p0.get_data();if($0!=null){this.$1_5=$0.content;this.$1_1E();}else{this.onBaseControlsElementsPostInit();}},$1_1E:function(){var $0=this.get_template();this.$1_2=[];this.$1_3=[];if($0!=null){var $1=new BL.UI.TemplateParser();var $2=$1.parse(this.get_s_id(),this.get_s_templateId(),$0);Bendyline.Base.HtmlUtilities.setInnerHtml(this.get_element(),$2.get_markup());if($2.get_itemsContainer()!=null){var $3=this.$1_1F(this.get_element(),$2.get_itemsContainer());var fn = this["set_itemsContainerElement"];  if (fn != null) { fn.apply(this, new Array($3)); };}for(var $4=0;$4<$2.get_controls().length;$4++){var $5=$2.get_controlElementPaths()[$4];var $6=$2.get_controls()[$4];var $7=$2.get_controlIds()[$4];var $8=this.$1_1F(this.get_element(),$5);this.$1_2.add($6);this.$1_3.add($8);if($7!=null){this['c_' + $7]=$6;this['e_' + $7]=$8;}}for(var $9=0;$9<$2.get_elementIds().length;$9++){var $A=$2.get_elementElementPaths()[$9];var $B=$2.get_elementIds()[$9];var $C=this.$1_1F(this.get_element(),$A);if($B!=null){this['e_' + $B]=$C;}}}for(var $D=0;$D<this.$1_2.length;$D++){var $E=this.$1_2[$D];var $F=this.$1_3[$D];$E.attachTo($F,null);}this.onApplyTemplate();this.onBaseControlsElementsPostInit();},$1_1F:function($p0,$p1){for(var $0=0;$0<$p1.length;$0++){$p0=$p0.children[$p1[$0]];}return $p0;},ensureElements:function(){var $0=this.get_element();if($0==null){var $1=this.get_tagName();if($1==null){$1='div';}this.$1_0=document.createElement($1);this.$1_C=null;this.$1_19();this.$1_12=false;this.$1_8=false;this.ensureId();$0=this.get_element();}this.$1_1C();if(!this.$1_7){this.createChildControls();}if(!this.get_elementsEnsured()){this.$1_8=true;this.$1_1A();this.onEnsureElements();if(this.$1_9!=null){Bendyline.Base.HtmlUtilities.setInnerHtml(this.get_contentElement(),this.$1_9);}if(this.$1_2!=null){var $enum1=ss.IEnumerator.getEnumerator(this.$1_2);while($enum1.moveNext()){var $2=$enum1.current;this.$1_21($2);}}this.$1_22();if(this.$1_10!=null){$0.style.posHeight=this.get_i_height();}if(this.$1_11!=null){$0.style.posWidth=this.get_i_width();}this.onUpdate();}if(this.trackResizeEvents){this.doResize();}this.$1_20();},$1_20:function(){var $0=this.get_element();if($0!=null){if(this.$1_D){if(this.$1_F!=null){$0.style.display=this.$1_F;this.$1_F=null;}else{$0.style.display='';}}else{var $1=$0.style.display;if($1!=='none'&&!String.isNullOrEmpty($1)){this.$1_F=$1;}else{this.$1_F=null;}$0.style.display='none';}}},dispose:function(){},$1_21:function($p0){if($p0.get_element()==null){var $0=document.createElement('DIV');$p0.set_element($0);this.get_contentElement().appendChild($0);}else{var $1=false;var $2=$p0.get_element();var $3=$2;do{$3=$3.parentNode;if($3===this.get_contentElement()){$1=true;}}while(!$1&&$3!=null);if(!$1){this.get_contentElement().appendChild($2);}this.onBaseControlsElementsPostInit();$p0.ensureElements();}},addBaseControl:function(child){if(this.$1_2==null){this.$1_2=[];}this.$1_2.add(child);if(this.get_elementsEnsured()){this.$1_21(child);}},createElementWithType:function(elementClass,type){var $0=document.createElement(type);$0.className=this.getElementClass(elementClass);return $0;},createElement:function(elementClass){var $0=document.createElement('DIV');$0.className=this.get_typeId()+'-'+elementClass;return $0;},createTemplateChild:function(elementName){var $0=document.createElement('DIV');$0.className=this.get_typeId()+'-'+elementName;return $0;},update:function(){if(!this.$1_8){return;}this.onUpdate();},onInit:function(){},onCreateChildControls:function(){},onEnsureElements:function(){},onUpdate:function(){},onBaseControlsElementsPostInit:function(){},$1_22:function(){if(!this.$1_E&&(this.trackResizeEvents&&this.get_b_visible())){window.addEventListener('resize',ss.Delegate.create(this,this.$1_23),true);this.$1_E=true;}else if(this.$1_E){window.removeEventListener('resize',ss.Delegate.create(this,this.$1_23),true);this.$1_E=false;}},$1_23:function($p0){this.doResize();},doResize:function(){window.setTimeout(ss.Delegate.create(this,this.onResize),1);},onResize:function(){}}
BL.UI.ControlUtilities=function(){}
BL.UI.ControlUtilities.disableElementTouchMove=function(e){e.addEventListener('touchmove',BL.UI.ControlUtilities.cancelEvent,false);}
BL.UI.ControlUtilities.cancelEvent=function(eventDetails){eventDetails.preventDefault();}
BL.UI.ItemsControl=function(){BL.UI.ItemsControl.initializeBase(this);}
BL.UI.ItemsControl.prototype={$1_24:null,$1_25:null,$1_26:null,get_itemsContainerElement:function(){if(this.$1_24==null){return this.get_element();}return this.$1_24;},set_itemsContainerElement:function(value){this.$1_24=value;return value;},get_itemControls:function(){return this.$1_25;},getById:function(id){return this.$1_26[id];},insertItemControl:function(index,c){if(this.$1_25==null){this.$1_25=[];this.$1_26={};}this.$1_25.insert(index,c);this.$1_26[c.get_s_id()]=c;if(this.get_elementsEnsured()){this.$1_28(index,c);}this.onItemControlAdded(c);},addItemControl:function(c){if(this.$1_25==null){this.$1_25=[];this.$1_26={};}this.$1_25.add(c);this.$1_26[c.get_s_id()]=c;if(this.get_elementsEnsured()){this.$1_27(c);}this.onItemControlAdded(c);},onItemControlAdded:function(c){},clearItemControls:function(){if(this.$1_24!=null){var $enum1=ss.IEnumerator.getEnumerator(this.get_itemControls());while($enum1.moveNext()){var $0=$enum1.current;this.$1_24.removeChild($0.get_element());}}this.$1_25=null;this.$1_26=null;},onBaseControlsElementsPostInit:function(){if(this.$1_25==null||this.get_itemsContainerElement()==null){return;}var $enum1=ss.IEnumerator.getEnumerator(this.$1_25);while($enum1.moveNext()){var $0=$enum1.current;this.$1_27($0);}},$1_27:function($p0){this.$1_28(-1,$p0);},$1_28:function($p0,$p1){var $0=this.get_itemsContainerElement();if(this.$1_25==null||$0==null){return;}if($p1.get_element()==null){var $1=$p1.get_tagName();if($1==null){$1='DIV';}var $2=document.createElement($1);$p1.set_element($2);}else{$p1.ensureElements();}if($p1.get_element().parentNode!==$0){if($p0<0||$p0>=$0.children.length){$0.appendChild($p1.get_element());}else{$0.insertBefore($p1.get_element(),$0.children[$p0]);}}}}
BL.UI.LiteralControl=function(){BL.UI.LiteralControl.initializeBase(this);}
BL.UI.Control.registerClass('BL.UI.Control',BL.SerializableObject,ss.IDisposable);BL.ContentItemControl.registerClass('BL.ContentItemControl',BL.UI.Control);BL.ControlValueEventArgs.registerClass('BL.ControlValueEventArgs',ss.EventArgs);BL.ElementContentItemControl.registerClass('BL.ElementContentItemControl',BL.UI.Control);BL.ControlEventArgs.registerClass('BL.ControlEventArgs',ss.EventArgs);BL.UI.ContentItem.registerClass('BL.UI.ContentItem');BL.UI.ContentItemSet.registerClass('BL.UI.ContentItemSet');BL.UI.ControlManager.registerClass('BL.UI.ControlManager');BL.UI.BaseControlFactory.registerClass('BL.UI.BaseControlFactory',null,BL.UI.IControlFactory);BL.UI.DebugPanel.registerClass('BL.UI.DebugPanel',BL.UI.Control);Facer.registerClass('Facer');BL.UI.ListItem.registerClass('BL.UI.ListItem',BL.UI.Control);BL.UI.ItemsControl.registerClass('BL.UI.ItemsControl',BL.UI.Control);BL.UI.List.registerClass('BL.UI.List',BL.UI.ItemsControl);BL.UI.Template.registerClass('BL.UI.Template');BL.UI.TemplateFile.registerClass('BL.UI.TemplateFile');BL.UI.TemplateManager.registerClass('BL.UI.TemplateManager');BL.UI.TemplateParserResult.registerClass('BL.UI.TemplateParserResult');BL.UI.TemplateParser.registerClass('BL.UI.TemplateParser');BL.UI.ControlUtilities.registerClass('BL.UI.ControlUtilities');BL.UI.LiteralControl.registerClass('BL.UI.LiteralControl',BL.UI.Control);BL.UI.ControlManager.$1=new BL.UI.ControlManager();BL.UI.TemplateFile.rootTemplatePath='/gs/t/';BL.UI.TemplateManager.$0=null;})();// This script was generated using Script# v0.7.4.0
// bl.bs.js
(function($){
Type.registerNamespace('BL.BS');BL.BS.Breadcrumb=function(){BL.BS.Breadcrumb.initializeBase(this);}
BL.BS.Breadcrumb.prototype={get_defaultClass:function(){return 'breadcrumb';},get_tagName:function(){return 'ol';}}
BL.BS.NavbarLinkSection=function(){BL.BS.NavbarLinkSection.initializeBase(this);}
BL.BS.NavbarLinkSection.prototype={get_defaultClass:function(){return 'nav navbar-nav navbar-left';},get_tagName:function(){return 'ul';}}
BL.BS.Jumbotron=function(){BL.BS.Jumbotron.initializeBase(this);}
BL.BS.Jumbotron.prototype={e_title:null,e_lead:null,e_image:null,e_imageCell:null,e_callToAction:null,$3_0:null,$3_1:null,$3_2:null,get_s_title:function(){return this.$3_0;},set_s_title:function(value){this.$3_0=value;this.update();return value;},get_s_lead:function(){return this.$3_1;},set_s_lead:function(value){this.$3_1=value;this.update();return value;},get_s_imageUrl:function(){return this.$3_2;},set_s_imageUrl:function(value){this.$3_2=value;this.update();return value;},onApplyTemplate:function(){if(this.e_title!=null){this.e_title.innerText=this.get_s_title();}if(this.e_lead!=null){this.e_lead.innerText=this.get_s_lead();}if(this.e_image!=null&&this.e_imageCell!=null){if(String.isNullOrEmpty(this.get_s_imageUrl())){this.e_imageCell.style.display='none';}else{this.e_image.src=this.get_s_imageUrl();this.e_imageCell.style.display='block';}}}}
BL.BS.Nav=function(){BL.BS.Nav.initializeBase(this);}
BL.BS.Nav.prototype={get_defaultClass:function(){return 'nav nav-pills';},get_tagName:function(){return 'ul';}}
BL.BS.Item=function(){BL.BS.Item.initializeBase(this);}
BL.BS.Item.prototype={$2_0:false,$2_1:false,$2_2:null,$2_3:null,e_link:null,get_s_text:function(){return this.$2_2;},set_s_text:function(value){this.$2_2=value;this.update();return value;},get_s_href:function(){return this.$2_3;},set_s_href:function(value){this.$2_3=value;this.set_trackInteractionEvents(true);this.update();return value;},get_b_active:function(){return this.$2_0;},set_b_active:function(value){this.$2_0=value;this.$2_4();return value;},get_b_disabled:function(){return this.$2_1;},set_b_disabled:function(value){this.$2_1=value;this.$2_4();return value;},get_tagName:function(){return 'li';},$2_4:function(){var $0='';if(this.$2_0){$0+='active';}if(this.$2_1){if($0.length>0){$0+=' ';}$0+='disabled';}this.set_className($0);},onClick:function(e){if(this.get_s_href()!=null){window.location.assign(this.get_s_href());}},onApplyTemplate:function(){BL.BS.Item.callBaseMethod(this, 'onApplyTemplate');if(this.e_link!=null){this.e_link.innerText=this.get_s_text();}}}
BL.BS.NavbarButton=function(){BL.BS.NavbarButton.initializeBase(this);}
BL.BS.NavbarButton.prototype={get_defaultClass:function(){return 'btn btn-default navbar-btn';},get_tagName:function(){return 'button';}}
BL.BS.NavbarSectionBase=function(){BL.BS.NavbarSectionBase.initializeBase(this);}
BL.BS.NavbarSectionBase.prototype={setActive:function(index,active){if(index>this.get_itemControls().length){return;}var $0=this.get_itemControls()[index];$0.set_b_active(active);}}
BL.BS.NavbarText=function(){BL.BS.NavbarText.initializeBase(this);}
BL.BS.NavbarText.prototype={get_defaultClass:function(){return 'navbar-text';},get_tagName:function(){return 'p';}}
BL.BS.Navbar=function(){this.$3_0=-1;BL.BS.Navbar.initializeBase(this);}
BL.BS.Navbar.prototype={get_defaultClass:function(){return 'navbar navbar-default';},get_tagName:function(){return 'nav';},select:function(index){if(this.$3_0>=0){this.setActive(this.$3_0,false);}this.$3_0=index;this.setActive(this.$3_0,true);},setActive:function(index,value){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.get_itemControls());while($enum1.moveNext()){var $1=$enum1.current;var $2=$1.get_itemControls();if($0+$2.length>index){$1.setActive(index-$0,value);return;}$0+=$2.length;}}}
BL.BS.NavbarSection=function(){BL.BS.NavbarSection.initializeBase(this);}
BL.BS.NavbarSection.prototype={get_defaultClass:function(){return 'navbar-left';}}
BL.BS.Button=function(){BL.BS.Button.initializeBase(this);}
BL.BS.Button.prototype={get_defaultClass:function(){return 'btn btn-default';},get_tagName:function(){return 'button';},onEnsureElements:function(){}}
BL.BS.Breadcrumb.registerClass('BL.BS.Breadcrumb',BL.UI.ItemsControl);BL.BS.NavbarSectionBase.registerClass('BL.BS.NavbarSectionBase',BL.UI.ItemsControl);BL.BS.NavbarLinkSection.registerClass('BL.BS.NavbarLinkSection',BL.BS.NavbarSectionBase);BL.BS.Jumbotron.registerClass('BL.BS.Jumbotron',BL.UI.ItemsControl);BL.BS.Nav.registerClass('BL.BS.Nav',BL.UI.ItemsControl);BL.BS.Item.registerClass('BL.BS.Item',BL.UI.Control);BL.BS.NavbarButton.registerClass('BL.BS.NavbarButton',BL.ElementContentItemControl);BL.BS.NavbarText.registerClass('BL.BS.NavbarText',BL.ElementContentItemControl);BL.BS.Navbar.registerClass('BL.BS.Navbar',BL.UI.ItemsControl);BL.BS.NavbarSection.registerClass('BL.BS.NavbarSection',BL.BS.NavbarSectionBase);BL.BS.Button.registerClass('BL.BS.Button',BL.ElementContentItemControl);})(jQuery);// This script was generated using Script# v0.7.4.0
// bl.site.js
(function($){
Type.registerNamespace('BL.Site');BL.Site.TwitterTimeline=function(){BL.Site.TwitterTimeline.initializeBase(this);}
BL.Site.TwitterTimeline.prototype={$2_0:null,$2_1:null,$2_2:true,$2_3:true,$2_4:true,$2_5:true,$2_6:false,get_b_displayScrollbar:function(){return this.$2_5;},set_b_displayScrollbar:function(value){this.$2_5=value;return value;},get_b_displayBorders:function(){return this.$2_4;},set_b_displayBorders:function(value){this.$2_4=value;return value;},get_b_displayHeader:function(){return this.$2_3;},set_b_displayHeader:function(value){this.$2_3=value;return value;},get_b_displayFooter:function(){return this.$2_2;},set_b_displayFooter:function(value){this.$2_2=value;return value;},e_timelineContainer:null,get_s_url:function(){return this.$2_0;},set_s_url:function(value){this.$2_0=value;return value;},get_s_widgetId:function(){return this.$2_1;},set_s_widgetId:function(value){this.$2_1=value;return value;},onInit:function(){BL.Site.TwitterTimeline.callBaseMethod(this, 'onInit');var $0=null;if(document.getElementById('twitter-wjs')==null){var $1=document.getElementsByTagName('SCRIPT')[0];$0=document.createElement('SCRIPT');$0.id='twitter-wjs';$0.src='//platform.twitter.com/widgets.js';$1.parentNode.insertBefore($0,$1);}},onUpdate:function(){BL.Site.TwitterTimeline.callBaseMethod(this, 'onUpdate');if(this.e_timelineContainer==null){return;}if(this.$2_0!=null){this.e_timelineContainer.href=this.$2_0;}if(this.$2_1!=null){this.e_timelineContainer.setAttribute('data-widget-id',this.$2_1);}var $0='';if(!this.$2_2){$0+=' nofooter';}if(!this.$2_3){$0+=' noheader';}if(!this.$2_4){$0+=' noborders';}if(!this.$2_5){$0+=' noscrollbar';}if($0.length>0){this.e_timelineContainer.setAttribute('data-chrome',$0.trimStart());}}}
BL.Site.Slideshow=function(){BL.Site.Slideshow.initializeBase(this);}
BL.Site.Slideshow.prototype={e_next:null,e_previous:null,c_presenter:null,$2_0:0,$2_1:null,get_activeIndex:function(){return this.$2_0;},set_activeIndex:function(value){this.$2_0=value;this.update();return value;},get_o_sections:function(){return this.$2_1;},set_o_sections:function(value){this.$2_1=value;this.set_activeIndex(0);return value;},onApplyTemplate:function(){BL.Site.Slideshow.callBaseMethod(this, 'onApplyTemplate');if(this.e_next!=null){this.e_next.addEventListener('click',ss.Delegate.create(this,this.$2_3),true);}if(this.e_previous!=null){this.e_previous.addEventListener('click',ss.Delegate.create(this,this.$2_2),true);}},$2_2:function($p0){this.previous();},$2_3:function($p0){this.next();},next:function(){if(this.$2_0>=this.$2_1.items.length-1){this.set_activeIndex(0);}else{this.set_activeIndex(this.get_activeIndex()+1)-1;}},previous:function(){if(this.$2_0<=0){this.set_activeIndex(this.get_o_sections().items.length-1);}else{this.set_activeIndex(this.get_activeIndex()-1)+1;}},onUpdate:function(){BL.Site.Slideshow.callBaseMethod(this, 'onUpdate');if(this.get_o_sections()!=null&&this.c_presenter!=null&&this.get_o_sections().items!=null){if(this.$2_0>=0&&this.$2_0<this.get_o_sections().items.length){this.c_presenter.set_contentSection(this.get_o_sections().items[this.$2_0]);}}}}
BL.Site.SlideshowSection=function(){BL.Site.SlideshowSection.initializeBase(this);}
BL.Site.Section=function(){BL.Site.Section.initializeBase(this);}
BL.Site.Section.prototype={$2_0:null,$2_1:null,e_title:null,e_content:null,e_titleLink:null,e_mainImage:null,c_slideshow:null,get_s_url:function(){return this.$2_1;},set_s_url:function(value){this.$2_1=value;return value;},get_defaultClass:function(){return 'row';},get_contentSection:function(){return this.$2_0;},set_contentSection:function(value){this.$2_0=value;if(this.$2_0.templateId!=null){this.set_s_templateId(this.$2_0.templateId);}this.update();return value;},onUpdate:function(){BL.Site.Section.callBaseMethod(this, 'onUpdate');if(this.$2_0==null){return;}if(this.e_title!=null){this.e_title.innerText=this.$2_0.title;}if(this.e_content!=null){this.e_content.innerText=this.$2_0.content;}if(this.e_titleLink!=null){if(this.$2_1!=null){this.e_titleLink.href=this.$2_1;}else if(this.$2_0.url!=null){this.e_titleLink.href=this.$2_0.url;}}if(this.e_mainImage!=null){if(this.$2_0.mainImage==null){this.e_mainImage.style.display='none';}else{this.e_mainImage.style.display='block';this.e_mainImage.src=this.$2_0.mainImage;}}if(this.c_slideshow!=null){this.c_slideshow.set_o_sections(this.get_contentSection().data);}}}
BL.Site.SectionSetDisplay=function(){BL.Site.SectionSetDisplay.initializeBase(this);}
BL.Site.SectionSetDisplay.prototype={$3_0:null,$3_1:null,$3_2:false,get_u_sectionDataUrl:function(){return this.$3_1;},set_u_sectionDataUrl:function(value){this.$3_1=value;this.$3_2=false;this.update();return value;},get_contentSectionSet:function(){return this.$3_0;},set_contentSectionSet:function(value){this.$3_0=value;this.update();return value;},onUpdate:function(){if(this.$3_1!=null&&!this.$3_2){this.$3_2=true;$.getJSON(this.$3_1,ss.Delegate.create(this,this.sectionSetRetrieved));}if(this.get_contentSectionSet()!=null){var $0={};if(this.get_itemControls()!=null){var $enum1=ss.IEnumerator.getEnumerator(this.get_itemControls());while($enum1.moveNext()){var $1=$enum1.current;$0[$1.get_contentSection().id]=$1;}}var $enum2=ss.IEnumerator.getEnumerator(this.get_contentSectionSet().items);while($enum2.moveNext()){var $2=$enum2.current;var $3=$0[$2.id];if($3==null){$3=new BL.Site.Section();if($2.templateId!=null){$3.set_s_templateId($2.templateId);}$3.set_contentSection($2);}this.addItemControl($3);}}},sectionSetRetrieved:function(css){var $0=css;this.set_contentSectionSet($0[0]);}}
BL.Site.TwitterTimeline.registerClass('BL.Site.TwitterTimeline',BL.UI.Control);BL.Site.Slideshow.registerClass('BL.Site.Slideshow',BL.UI.Control);BL.Site.Section.registerClass('BL.Site.Section',BL.UI.Control);BL.Site.SlideshowSection.registerClass('BL.Site.SlideshowSection',BL.Site.Section);BL.Site.SectionSetDisplay.registerClass('BL.Site.SectionSetDisplay',BL.UI.ItemsControl);})(jQuery);// This script was generated using Script# v0.7.4.0
var temparr=[{"id":"bl-ui-debugpanel","content":"<input type=\"button\" value=\"&lt;\" id=\"collapse\" /><div id='panel'><div id='log'><BL.UI.List id='logList' /></div></div>"},{"id":"bl-ui-list","content":"<ItemsContainer id='items'/>"},{"id":"bl-ui-listitem","content":"<div><div id='title'></div></div>"}];BL.UI.TemplateManager.get_current().addTemplateFile("bl.ui", temparr);var temparr=[{"id":"bl-bs-item","content":"<a id='link'></a>"},{"id":"bl-bs-jumbotron","content":"<div  class=\"jumbotron\"><div class=\"row\"><div class=\"col-md-3\" id=\"imageCell\"><div id=\"imageOuter\"><img id=\"image\" class=\"img-responsive\"></img></div></div><div  class=\"col-md-9\"><h1 id='title'></h1><h4 id=\"lead\"></h4></div></div><div><ItemsContainer/></div></div>"},{"id":"bl-bs-navbarsection","content":"<ItemsContainer/>"}];BL.UI.TemplateManager.get_current().addTemplateFile("bl.bs", temparr);var temparr=[{"id":"bl-site-bigimage","content":"<div class=\"col-md-12\"><div id='imageBin'><img id='mainImage' style='display: none' class=\"img-responsive\"/></div><div id='inner'><h3 id='title'></h3><div id='content'></div></div></div>"},{"id":"bl-site-imageonly","content":"<img id='mainImage' style='display: none' class=\"img-responsive\"/>"},{"id":"bl-site-rightimage","content":"<div id='inner' class=\"col-md-9\"><a id=\"titleLink\"><h3 id='title'></h3></a><div id='content'></div></div><div id='imageBin' class=\"col-md-3\"><img id='mainImage' style='display: none' class=\"img-responsive\"/></div>"},{"id":"bl-site-section","content":"<div id='imageBin' class='col-md-3'><img id='mainImage' class=\"img-responsive\" style='display: none'/></div><div id='contentBin' class='col-md-9'><a id=\"titleLink\"><h3 id='title'></h3></a><div id='content'></div></div>"},{"id":"bl-site-sectionsetdisplay","content":"<ItemsContainer class='container' id='items'/>"},{"id":"bl-site-slideshow","content":"<div id='imageBin'><span class=\"glyphicon glyphicon-chevron-left\" id='previous'></span><BL.Site.Section id='presenter'/><span class=\"glyphicon glyphicon-chevron-right\" id='next'></span></div>"},{"id":"bl-site-slideshowsection","content":"<div id='imageBin' class='col-md-4'><BL.Site.Slideshow id='slideshow'></BL.Site.Slideshow></div><div id='contentBin' class='col-md-8'><h3 id='title'></h3><div id='content'></div></div>"},{"id":"bl-site-twittertimeline","content":"<a class=\"twitter-timeline\" id=\"timelineContainer\"></a>"}];BL.UI.TemplateManager.get_current().addTemplateFile("bl.site", temparr);